(()=>{var ba=Object.create;var qt=Object.defineProperty;var Ea=Object.getOwnPropertyDescriptor;var Sa=Object.getOwnPropertyNames;var Oa=Object.getPrototypeOf,Ta=Object.prototype.hasOwnProperty;var Pa=r=>qt(r,"__esModule",{value:!0});var Fe=(r,e)=>()=>(r&&(e=r(r=0)),e);var R=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),xa=(r,e)=>{for(var t in e)qt(r,t,{get:e[t],enumerable:!0})},Na=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Sa(e))!Ta.call(r,i)&&(t||i!=="default")&&qt(r,i,{get:()=>e[i],enumerable:!(n=Ea(e,i))||n.enumerable});return r},Mt=(r,e)=>Na(Pa(qt(r!=null?ba(Oa(r)):{},"default",!e&&r&&r.__esModule?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);function zn(r){return{all:r=r||new Map,on:function(e,t){var n=r.get(e);n?n.push(t):r.set(e,[t])},off:function(e,t){var n=r.get(e);n&&(t?n.splice(n.indexOf(t)>>>0,1):r.set(e,[]))},emit:function(e,t){var n=r.get(e);n&&n.slice().map(function(i){i(t)}),(n=r.get("*"))&&n.slice().map(function(i){i(e,t)})}}}var Vn=Fe(()=>{});var Ke,Tr=Fe(()=>{Vn();Ke=class{constructor(){this.mittInstance=zn()}emit(e,t){this.mittInstance.emit(e,t)}on(e,t){this.mittInstance.on(e,t)}off(e,t){this.mittInstance.off(e,t)}once(e,t){return new Promise(n=>{let i=s=>{this.off(e,i),n(s),t&&t(s)};this.on(e,i)})}}});var Pr=R((jl,Jn)=>{"use strict";Jn.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var f=Object.getOwnPropertyDescriptor(e,t);if(f.value!==i||f.enumerable!==!0)return!1}return!0}});var lt=R((zl,Xn)=>{"use strict";var ka=Pr();Xn.exports=function(){return ka()&&!!Symbol.toStringTag}});var Yn=R((Vl,Zn)=>{"use strict";var Kn=typeof Symbol<"u"&&Symbol,Ia=Pr();Zn.exports=function(){return typeof Kn!="function"||typeof Symbol!="function"||typeof Kn("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Ia()}});var ei=R((Jl,Qn)=>{"use strict";var Ua="Function.prototype.bind called on incompatible ",xr=Array.prototype.slice,Ba=Object.prototype.toString,Ra="[object Function]";Qn.exports=function(e){var t=this;if(typeof t!="function"||Ba.call(t)!==Ra)throw new TypeError(Ua+t);for(var n=xr.call(arguments,1),i,s=function(){if(this instanceof i){var E=t.apply(this,n.concat(xr.call(arguments)));return Object(E)===E?E:this}else return t.apply(e,n.concat(xr.call(arguments)))},f=Math.max(0,t.length-n.length),c=[],y=0;y<f;y++)c.push("$"+y);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var B=function(){};B.prototype=t.prototype,i.prototype=new B,B.prototype=null}return i}});var Dt=R((Xl,ti)=>{"use strict";var Ca=ei();ti.exports=Function.prototype.bind||Ca});var ni=R((Kl,ri)=>{"use strict";var qa=Dt();ri.exports=qa.call(Function.call,Object.prototype.hasOwnProperty)});var Gt=R((Zl,ai)=>{"use strict";var Z,ct=SyntaxError,si=Function,Qe=TypeError,Nr=function(r){try{return si('"use strict"; return ('+r+").constructor;")()}catch(e){}},Le=Object.getOwnPropertyDescriptor;if(Le)try{Le({},"")}catch(r){Le=null}var kr=function(){throw new Qe},Ma=Le?function(){try{return arguments.callee,kr}catch(r){try{return Le(arguments,"callee").get}catch(e){return kr}}}():kr,Ze=Yn()(),qe=Object.getPrototypeOf||function(r){return r.__proto__},Ye={},Da=typeof Uint8Array>"u"?Z:qe(Uint8Array),et={"%AggregateError%":typeof AggregateError>"u"?Z:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Z:ArrayBuffer,"%ArrayIteratorPrototype%":Ze?qe([][Symbol.iterator]()):Z,"%AsyncFromSyncIteratorPrototype%":Z,"%AsyncFunction%":Ye,"%AsyncGenerator%":Ye,"%AsyncGeneratorFunction%":Ye,"%AsyncIteratorPrototype%":Ye,"%Atomics%":typeof Atomics>"u"?Z:Atomics,"%BigInt%":typeof BigInt>"u"?Z:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Z:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Z:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Z:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Z:FinalizationRegistry,"%Function%":si,"%GeneratorFunction%":Ye,"%Int8Array%":typeof Int8Array>"u"?Z:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Z:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Z:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ze?qe(qe([][Symbol.iterator]())):Z,"%JSON%":typeof JSON=="object"?JSON:Z,"%Map%":typeof Map>"u"?Z:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ze?Z:qe(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Z:Promise,"%Proxy%":typeof Proxy>"u"?Z:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Z:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Z:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ze?Z:qe(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Z:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ze?qe(""[Symbol.iterator]()):Z,"%Symbol%":Ze?Symbol:Z,"%SyntaxError%":ct,"%ThrowTypeError%":Ma,"%TypedArray%":Da,"%TypeError%":Qe,"%Uint8Array%":typeof Uint8Array>"u"?Z:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Z:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Z:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Z:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Z:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Z:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Z:WeakSet},Fa=function r(e){var t;if(e==="%AsyncFunction%")t=Nr("async function () {}");else if(e==="%GeneratorFunction%")t=Nr("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=Nr("async function* () {}");else if(e==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=r("%AsyncGenerator%");i&&(t=qe(i.prototype))}return et[e]=t,t},ii={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},$t=Dt(),Ft=ni(),La=$t.call(Function.call,Array.prototype.concat),$a=$t.call(Function.apply,Array.prototype.splice),oi=$t.call(Function.call,String.prototype.replace),Lt=$t.call(Function.call,String.prototype.slice),Ga=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ha=/\\(\\)?/g,Wa=function(e){var t=Lt(e,0,1),n=Lt(e,-1);if(t==="%"&&n!=="%")throw new ct("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new ct("invalid intrinsic syntax, expected opening `%`");var i=[];return oi(e,Ga,function(s,f,c,y){i[i.length]=c?oi(y,Ha,"$1"):f||s}),i},ja=function(e,t){var n=e,i;if(Ft(ii,n)&&(i=ii[n],n="%"+i[0]+"%"),Ft(et,n)){var s=et[n];if(s===Ye&&(s=Fa(n)),typeof s>"u"&&!t)throw new Qe("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new ct("intrinsic "+e+" does not exist!")};ai.exports=function(e,t){if(typeof e!="string"||e.length===0)throw new Qe("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Qe('"allowMissing" argument must be a boolean');var n=Wa(e),i=n.length>0?n[0]:"",s=ja("%"+i+"%",t),f=s.name,c=s.value,y=!1,B=s.alias;B&&(i=B[0],$a(n,La([0,1],B)));for(var E=1,P=!0;E<n.length;E+=1){var N=n[E],G=Lt(N,0,1),X=Lt(N,-1);if((G==='"'||G==="'"||G==="`"||X==='"'||X==="'"||X==="`")&&G!==X)throw new ct("property names with quotes must have matching quotes");if((N==="constructor"||!P)&&(y=!0),i+="."+N,f="%"+i+"%",Ft(et,f))c=et[f];else if(c!=null){if(!(N in c)){if(!t)throw new Qe("base intrinsic for "+e+" exists, but the property is not available.");return}if(Le&&E+1>=n.length){var K=Le(c,N);P=!!K,P&&"get"in K&&!("originalValue"in K.get)?c=K.get:c=c[N]}else P=Ft(c,N),c=c[N];P&&!y&&(et[f]=c)}}return c}});var hi=R((Yl,Ht)=>{"use strict";var Ir=Dt(),tt=Gt(),li=tt("%Function.prototype.apply%"),ci=tt("%Function.prototype.call%"),pi=tt("%Reflect.apply%",!0)||Ir.call(ci,li),ui=tt("%Object.getOwnPropertyDescriptor%",!0),$e=tt("%Object.defineProperty%",!0),za=tt("%Math.max%");if($e)try{$e({},"a",{value:1})}catch(r){$e=null}Ht.exports=function(e){var t=pi(Ir,ci,arguments);if(ui&&$e){var n=ui(t,"length");n.configurable&&$e(t,"length",{value:1+za(0,e.length-(arguments.length-1))})}return t};var fi=function(){return pi(Ir,li,arguments)};$e?$e(Ht.exports,"apply",{value:fi}):Ht.exports.apply=fi});var Wt=R((Ql,gi)=>{"use strict";var di=Gt(),yi=hi(),Va=yi(di("String.prototype.indexOf"));gi.exports=function(e,t){var n=di(e,!!t);return typeof n=="function"&&Va(e,".prototype.")>-1?yi(n):n}});var vi=R((ec,wi)=>{"use strict";var Ja=lt()(),Xa=Wt(),Ur=Xa("Object.prototype.toString"),jt=function(e){return Ja&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:Ur(e)==="[object Arguments]"},mi=function(e){return jt(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Ur(e)!=="[object Array]"&&Ur(e.callee)==="[object Function]"},Ka=function(){return jt(arguments)}();jt.isLegacyArguments=mi;wi.exports=Ka?jt:mi});var bi=R((tc,Ai)=>{"use strict";var Za=Object.prototype.toString,Ya=Function.prototype.toString,Qa=/^\s*(?:function)?\*/,_i=lt()(),Br=Object.getPrototypeOf,eu=function(){if(!_i)return!1;try{return Function("return function*() {}")()}catch(r){}},Rr;Ai.exports=function(e){if(typeof e!="function")return!1;if(Qa.test(Ya.call(e)))return!0;if(!_i){var t=Za.call(e);return t==="[object GeneratorFunction]"}if(!Br)return!1;if(typeof Rr>"u"){var n=eu();Rr=n?Br(n):!1}return Br(e)===Rr}});var Cr=R((rc,Ei)=>{var tu=Object.prototype.hasOwnProperty,ru=Object.prototype.toString;Ei.exports=function(e,t,n){if(ru.call(t)!=="[object Function]")throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var s=0;s<i;s++)t.call(n,e[s],s,e);else for(var f in e)tu.call(e,f)&&t.call(n,e[f],f,e)}});var Mr=R((nc,Si)=>{"use strict";var qr=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],nu=typeof globalThis>"u"?global:globalThis;Si.exports=function(){for(var e=[],t=0;t<qr.length;t++)typeof nu[qr[t]]=="function"&&(e[e.length]=qr[t]);return e}});var Dr=R((ic,Oi)=>{"use strict";var iu=Gt(),zt=iu("%Object.getOwnPropertyDescriptor%",!0);if(zt)try{zt([],"length")}catch(r){zt=null}Oi.exports=zt});var $r=R((oc,ki)=>{"use strict";var Ti=Cr(),ou=Mr(),Lr=Wt(),su=Lr("Object.prototype.toString"),Pi=lt()(),au=typeof globalThis>"u"?global:globalThis,xi=ou(),uu=Lr("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},fu=Lr("String.prototype.slice"),Ni={},Vt=Dr(),Fr=Object.getPrototypeOf;Pi&&Vt&&Fr&&Ti(xi,function(r){var e=new au[r];if(Symbol.toStringTag in e){var t=Fr(e),n=Vt(t,Symbol.toStringTag);if(!n){var i=Fr(t);n=Vt(i,Symbol.toStringTag)}Ni[r]=n.get}});var lu=function(e){var t=!1;return Ti(Ni,function(n,i){if(!t)try{t=n.call(e)===i}catch(s){}}),t};ki.exports=function(e){if(!e||typeof e!="object")return!1;if(!Pi||!(Symbol.toStringTag in e)){var t=fu(su(e),8,-1);return uu(xi,t)>-1}return Vt?lu(e):!1}});var Mi=R((sc,qi)=>{"use strict";var Ui=Cr(),cu=Mr(),Bi=Wt(),pu=Bi("Object.prototype.toString"),Ri=lt()(),Ii=typeof globalThis>"u"?global:globalThis,hu=cu(),du=Bi("String.prototype.slice"),Ci={},Gr=Dr(),Hr=Object.getPrototypeOf;Ri&&Gr&&Hr&&Ui(hu,function(r){if(typeof Ii[r]=="function"){var e=new Ii[r];if(Symbol.toStringTag in e){var t=Hr(e),n=Gr(t,Symbol.toStringTag);if(!n){var i=Hr(t);n=Gr(i,Symbol.toStringTag)}Ci[r]=n.get}}});var yu=function(e){var t=!1;return Ui(Ci,function(n,i){if(!t)try{var s=n.call(e);s===i&&(t=s)}catch(f){}}),t},gu=$r();qi.exports=function(e){return gu(e)?!Ri||!(Symbol.toStringTag in e)?du(pu(e),8,-1):yu(e):!1}});var Zi=R(z=>{"use strict";var mu=vi(),wu=bi(),Pe=Mi(),Di=$r();function rt(r){return r.call.bind(r)}var Fi=typeof BigInt<"u",Li=typeof Symbol<"u",Ee=rt(Object.prototype.toString),vu=rt(Number.prototype.valueOf),_u=rt(String.prototype.valueOf),Au=rt(Boolean.prototype.valueOf);Fi&&($i=rt(BigInt.prototype.valueOf));var $i;Li&&(Gi=rt(Symbol.prototype.valueOf));var Gi;function ht(r,e){if(typeof r!="object")return!1;try{return e(r),!0}catch(t){return!1}}z.isArgumentsObject=mu;z.isGeneratorFunction=wu;z.isTypedArray=Di;function bu(r){return typeof Promise<"u"&&r instanceof Promise||r!==null&&typeof r=="object"&&typeof r.then=="function"&&typeof r.catch=="function"}z.isPromise=bu;function Eu(r){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(r):Di(r)||Wi(r)}z.isArrayBufferView=Eu;function Su(r){return Pe(r)==="Uint8Array"}z.isUint8Array=Su;function Ou(r){return Pe(r)==="Uint8ClampedArray"}z.isUint8ClampedArray=Ou;function Tu(r){return Pe(r)==="Uint16Array"}z.isUint16Array=Tu;function Pu(r){return Pe(r)==="Uint32Array"}z.isUint32Array=Pu;function xu(r){return Pe(r)==="Int8Array"}z.isInt8Array=xu;function Nu(r){return Pe(r)==="Int16Array"}z.isInt16Array=Nu;function ku(r){return Pe(r)==="Int32Array"}z.isInt32Array=ku;function Iu(r){return Pe(r)==="Float32Array"}z.isFloat32Array=Iu;function Uu(r){return Pe(r)==="Float64Array"}z.isFloat64Array=Uu;function Bu(r){return Pe(r)==="BigInt64Array"}z.isBigInt64Array=Bu;function Ru(r){return Pe(r)==="BigUint64Array"}z.isBigUint64Array=Ru;function Jt(r){return Ee(r)==="[object Map]"}Jt.working=typeof Map<"u"&&Jt(new Map);function Cu(r){return typeof Map>"u"?!1:Jt.working?Jt(r):r instanceof Map}z.isMap=Cu;function Xt(r){return Ee(r)==="[object Set]"}Xt.working=typeof Set<"u"&&Xt(new Set);function qu(r){return typeof Set>"u"?!1:Xt.working?Xt(r):r instanceof Set}z.isSet=qu;function Kt(r){return Ee(r)==="[object WeakMap]"}Kt.working=typeof WeakMap<"u"&&Kt(new WeakMap);function Mu(r){return typeof WeakMap>"u"?!1:Kt.working?Kt(r):r instanceof WeakMap}z.isWeakMap=Mu;function jr(r){return Ee(r)==="[object WeakSet]"}jr.working=typeof WeakSet<"u"&&jr(new WeakSet);function Du(r){return jr(r)}z.isWeakSet=Du;function Zt(r){return Ee(r)==="[object ArrayBuffer]"}Zt.working=typeof ArrayBuffer<"u"&&Zt(new ArrayBuffer);function Hi(r){return typeof ArrayBuffer>"u"?!1:Zt.working?Zt(r):r instanceof ArrayBuffer}z.isArrayBuffer=Hi;function Yt(r){return Ee(r)==="[object DataView]"}Yt.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Yt(new DataView(new ArrayBuffer(1),0,1));function Wi(r){return typeof DataView>"u"?!1:Yt.working?Yt(r):r instanceof DataView}z.isDataView=Wi;var Wr=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function pt(r){return Ee(r)==="[object SharedArrayBuffer]"}function ji(r){return typeof Wr>"u"?!1:(typeof pt.working>"u"&&(pt.working=pt(new Wr)),pt.working?pt(r):r instanceof Wr)}z.isSharedArrayBuffer=ji;function Fu(r){return Ee(r)==="[object AsyncFunction]"}z.isAsyncFunction=Fu;function Lu(r){return Ee(r)==="[object Map Iterator]"}z.isMapIterator=Lu;function $u(r){return Ee(r)==="[object Set Iterator]"}z.isSetIterator=$u;function Gu(r){return Ee(r)==="[object Generator]"}z.isGeneratorObject=Gu;function Hu(r){return Ee(r)==="[object WebAssembly.Module]"}z.isWebAssemblyCompiledModule=Hu;function zi(r){return ht(r,vu)}z.isNumberObject=zi;function Vi(r){return ht(r,_u)}z.isStringObject=Vi;function Ji(r){return ht(r,Au)}z.isBooleanObject=Ji;function Xi(r){return Fi&&ht(r,$i)}z.isBigIntObject=Xi;function Ki(r){return Li&&ht(r,Gi)}z.isSymbolObject=Ki;function Wu(r){return zi(r)||Vi(r)||Ji(r)||Xi(r)||Ki(r)}z.isBoxedPrimitive=Wu;function ju(r){return typeof Uint8Array<"u"&&(Hi(r)||ji(r))}z.isAnyArrayBuffer=ju;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(r){Object.defineProperty(z,r,{enumerable:!1,value:function(){throw new Error(r+" is not supported in userland")}})})});var Qi=R((uc,Yi)=>{Yi.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var eo=R((fc,zr)=>{typeof Object.create=="function"?zr.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:zr.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}});var gt=R(V=>{var to=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++)n[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return n},zu=/%[sdj%]/g;V.format=function(r){if(!or(r)){for(var e=[],t=0;t<arguments.length;t++)e.push(Me(arguments[t]));return e.join(" ")}for(var t=1,n=arguments,i=n.length,s=String(r).replace(zu,function(c){if(c==="%%")return"%";if(t>=i)return c;switch(c){case"%s":return String(n[t++]);case"%d":return Number(n[t++]);case"%j":try{return JSON.stringify(n[t++])}catch(y){return"[Circular]"}default:return c}}),f=n[t];t<i;f=n[++t])ir(f)||!nt(f)?s+=" "+f:s+=" "+Me(f);return s};V.deprecate=function(r,e){if(typeof process<"u"&&process.noDeprecation===!0)return r;if(typeof process>"u")return function(){return V.deprecate(r,e).apply(this,arguments)};var t=!1;function n(){if(!t){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),t=!0}return r.apply(this,arguments)}return n};var Qt={},ro=/^$/;process.env.NODE_DEBUG&&(er=process.env.NODE_DEBUG,er=er.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),ro=new RegExp("^"+er+"$","i"));var er;V.debuglog=function(r){if(r=r.toUpperCase(),!Qt[r])if(ro.test(r)){var e=process.pid;Qt[r]=function(){var t=V.format.apply(V,arguments);console.error("%s %d: %s",r,e,t)}}else Qt[r]=function(){};return Qt[r]};function Me(r,e){var t={seen:[],stylize:Ju};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),Kr(e)?t.showHidden=e:e&&V._extend(t,e),He(t.showHidden)&&(t.showHidden=!1),He(t.depth)&&(t.depth=2),He(t.colors)&&(t.colors=!1),He(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=Vu),rr(t,r,t.depth)}V.inspect=Me;Me.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Me.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function Vu(r,e){var t=Me.styles[e];return t?"\x1B["+Me.colors[t][0]+"m"+r+"\x1B["+Me.colors[t][1]+"m":r}function Ju(r,e){return r}function Xu(r){var e={};return r.forEach(function(t,n){e[t]=!0}),e}function rr(r,e,t){if(r.customInspect&&e&&tr(e.inspect)&&e.inspect!==V.inspect&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(t,r);return or(n)||(n=rr(r,n,t)),n}var i=Ku(r,e);if(i)return i;var s=Object.keys(e),f=Xu(s);if(r.showHidden&&(s=Object.getOwnPropertyNames(e)),yt(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return Vr(e);if(s.length===0){if(tr(e)){var c=e.name?": "+e.name:"";return r.stylize("[Function"+c+"]","special")}if(dt(e))return r.stylize(RegExp.prototype.toString.call(e),"regexp");if(nr(e))return r.stylize(Date.prototype.toString.call(e),"date");if(yt(e))return Vr(e)}var y="",B=!1,E=["{","}"];if(no(e)&&(B=!0,E=["[","]"]),tr(e)){var P=e.name?": "+e.name:"";y=" [Function"+P+"]"}if(dt(e)&&(y=" "+RegExp.prototype.toString.call(e)),nr(e)&&(y=" "+Date.prototype.toUTCString.call(e)),yt(e)&&(y=" "+Vr(e)),s.length===0&&(!B||e.length==0))return E[0]+y+E[1];if(t<0)return dt(e)?r.stylize(RegExp.prototype.toString.call(e),"regexp"):r.stylize("[Object]","special");r.seen.push(e);var N;return B?N=Zu(r,e,t,f,s):N=s.map(function(G){return Xr(r,e,t,f,G,B)}),r.seen.pop(),Yu(N,y,E)}function Ku(r,e){if(He(e))return r.stylize("undefined","undefined");if(or(e)){var t="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return r.stylize(t,"string")}if(io(e))return r.stylize(""+e,"number");if(Kr(e))return r.stylize(""+e,"boolean");if(ir(e))return r.stylize("null","null")}function Vr(r){return"["+Error.prototype.toString.call(r)+"]"}function Zu(r,e,t,n,i){for(var s=[],f=0,c=e.length;f<c;++f)oo(e,String(f))?s.push(Xr(r,e,t,n,String(f),!0)):s.push("");return i.forEach(function(y){y.match(/^\d+$/)||s.push(Xr(r,e,t,n,y,!0))}),s}function Xr(r,e,t,n,i,s){var f,c,y;if(y=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},y.get?y.set?c=r.stylize("[Getter/Setter]","special"):c=r.stylize("[Getter]","special"):y.set&&(c=r.stylize("[Setter]","special")),oo(n,i)||(f="["+i+"]"),c||(r.seen.indexOf(y.value)<0?(ir(t)?c=rr(r,y.value,null):c=rr(r,y.value,t-1),c.indexOf(`
`)>-1&&(s?c=c.split(`
`).map(function(B){return"  "+B}).join(`
`).substr(2):c=`
`+c.split(`
`).map(function(B){return"   "+B}).join(`
`))):c=r.stylize("[Circular]","special")),He(f)){if(s&&i.match(/^\d+$/))return c;f=JSON.stringify(""+i),f.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(f=f.substr(1,f.length-2),f=r.stylize(f,"name")):(f=f.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),f=r.stylize(f,"string"))}return f+": "+c}function Yu(r,e,t){var n=0,i=r.reduce(function(s,f){return n++,f.indexOf(`
`)>=0&&n++,s+f.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?t[0]+(e===""?"":e+`
 `)+" "+r.join(`,
  `)+" "+t[1]:t[0]+e+" "+r.join(", ")+" "+t[1]}V.types=Zi();function no(r){return Array.isArray(r)}V.isArray=no;function Kr(r){return typeof r=="boolean"}V.isBoolean=Kr;function ir(r){return r===null}V.isNull=ir;function Qu(r){return r==null}V.isNullOrUndefined=Qu;function io(r){return typeof r=="number"}V.isNumber=io;function or(r){return typeof r=="string"}V.isString=or;function ef(r){return typeof r=="symbol"}V.isSymbol=ef;function He(r){return r===void 0}V.isUndefined=He;function dt(r){return nt(r)&&Zr(r)==="[object RegExp]"}V.isRegExp=dt;V.types.isRegExp=dt;function nt(r){return typeof r=="object"&&r!==null}V.isObject=nt;function nr(r){return nt(r)&&Zr(r)==="[object Date]"}V.isDate=nr;V.types.isDate=nr;function yt(r){return nt(r)&&(Zr(r)==="[object Error]"||r instanceof Error)}V.isError=yt;V.types.isNativeError=yt;function tr(r){return typeof r=="function"}V.isFunction=tr;function tf(r){return r===null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="symbol"||typeof r>"u"}V.isPrimitive=tf;V.isBuffer=Qi();function Zr(r){return Object.prototype.toString.call(r)}function Jr(r){return r<10?"0"+r.toString(10):r.toString(10)}var rf=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function nf(){var r=new Date,e=[Jr(r.getHours()),Jr(r.getMinutes()),Jr(r.getSeconds())].join(":");return[r.getDate(),rf[r.getMonth()],e].join(" ")}V.log=function(){console.log("%s - %s",nf(),V.format.apply(V,arguments))};V.inherits=eo();V._extend=function(r,e){if(!e||!nt(e))return r;for(var t=Object.keys(e),n=t.length;n--;)r[t[n]]=e[t[n]];return r};function oo(r,e){return Object.prototype.hasOwnProperty.call(r,e)}var Ge=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;V.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(Ge&&e[Ge]){var t=e[Ge];if(typeof t!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,Ge,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var n,i,s=new Promise(function(y,B){n=y,i=B}),f=[],c=0;c<arguments.length;c++)f.push(arguments[c]);f.push(function(y,B){y?i(y):n(B)});try{e.apply(this,f)}catch(y){i(y)}return s}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Ge&&Object.defineProperty(t,Ge,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,to(e))};V.promisify.custom=Ge;function of(r,e){if(!r){var t=new Error("Promise was rejected with a falsy value");t.reason=r,r=t}return e(r)}function sf(r){if(typeof r!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var i=t.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var s=this,f=function(){return i.apply(s,arguments)};r.apply(this,t).then(function(c){process.nextTick(f.bind(null,null,c))},function(c){process.nextTick(of.bind(null,c,f))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(r)),Object.defineProperties(e,to(r)),e}V.callbackify=sf});var Yr=R(()=>{var so;(function(r){(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),n=i(r);typeof t.Reflect>"u"?t.Reflect=r:n=i(t.Reflect,n),e(n);function i(s,f){return function(c,y){typeof s[c]!="function"&&Object.defineProperty(s,c,{configurable:!0,writable:!0,value:y}),f&&f(c,y)}}})(function(e){var t=Object.prototype.hasOwnProperty,n=typeof Symbol=="function",i=n&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",s=n&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",f=typeof Object.create=="function",c={__proto__:[]}instanceof Array,y=!f&&!c,B={create:f?function(){return J(Object.create(null))}:c?function(){return J({__proto__:null})}:function(){return J({})},has:y?function(h,A){return t.call(h,A)}:function(h,A){return A in h},get:y?function(h,A){return t.call(h,A)?h[A]:void 0}:function(h,A){return h[A]}},E=Object.getPrototypeOf(Function),P=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",N=!P&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:O(),G=!P&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:q(),X=!P&&typeof WeakMap=="function"?WeakMap:M(),K=new X;function oe(h,A,b,T){if(ie(b)){if(!a(h))throw new TypeError;if(!w(A))throw new TypeError;return Y(h,A)}else{if(!a(h))throw new TypeError;if(!fe(A))throw new TypeError;if(!fe(T)&&!ie(T)&&!ke(T))throw new TypeError;return ke(T)&&(T=void 0),b=o(b),re(h,A,b,T)}}e("decorate",oe);function S(h,A){function b(T,U){if(!fe(T))throw new TypeError;if(!ie(U)&&!p(U))throw new TypeError;Ne(h,A,T,U)}return b}e("metadata",S);function I(h,A,b,T){if(!fe(b))throw new TypeError;return ie(T)||(T=o(T)),Ne(h,A,b,T)}e("defineMetadata",I);function ee(h,A,b){if(!fe(A))throw new TypeError;return ie(b)||(b=o(b)),de(h,A,b)}e("hasMetadata",ee);function Q(h,A,b){if(!fe(A))throw new TypeError;return ie(b)||(b=o(b)),ye(h,A,b)}e("hasOwnMetadata",Q);function F(h,A,b){if(!fe(A))throw new TypeError;return ie(b)||(b=o(b)),xe(h,A,b)}e("getMetadata",F);function D(h,A,b){if(!fe(A))throw new TypeError;return ie(b)||(b=o(b)),we(h,A,b)}e("getOwnMetadata",D);function ne(h,A){if(!fe(h))throw new TypeError;return ie(A)||(A=o(A)),Ce(h,A)}e("getMetadataKeys",ne);function se(h,A){if(!fe(h))throw new TypeError;return ie(A)||(A=o(A)),Oe(h,A)}e("getOwnMetadataKeys",se);function x(h,A,b){if(!fe(A))throw new TypeError;ie(b)||(b=o(b));var T=te(A,b,!1);if(ie(T)||!T.delete(h))return!1;if(T.size>0)return!0;var U=K.get(A);return U.delete(b),U.size>0||K.delete(A),!0}e("deleteMetadata",x);function Y(h,A){for(var b=h.length-1;b>=0;--b){var T=h[b],U=T(A);if(!ie(U)&&!ke(U)){if(!w(U))throw new TypeError;A=U}}return A}function re(h,A,b,T){for(var U=h.length-1;U>=0;--U){var le=h[U],$=le(A,b,T);if(!ie($)&&!ke($)){if(!fe($))throw new TypeError;T=$}}return T}function te(h,A,b){var T=K.get(h);if(ie(T)){if(!b)return;T=new N,K.set(h,T)}var U=T.get(A);if(ie(U)){if(!b)return;U=new N,T.set(A,U)}return U}function de(h,A,b){var T=ye(h,A,b);if(T)return!0;var U=m(A);return ke(U)?!1:de(h,U,b)}function ye(h,A,b){var T=te(A,b,!1);return ie(T)?!1:ve(T.has(h))}function xe(h,A,b){var T=ye(h,A,b);if(T)return we(h,A,b);var U=m(A);if(!ke(U))return xe(h,U,b)}function we(h,A,b){var T=te(A,b,!1);if(!ie(T))return T.get(h)}function Ne(h,A,b,T){var U=te(b,T,!0);U.set(h,A)}function Ce(h,A){var b=Oe(h,A),T=m(h);if(T===null)return b;var U=Ce(T,A);if(U.length<=0)return b;if(b.length<=0)return U;for(var le=new G,$=[],H=0,C=b;H<C.length;H++){var W=C[H],L=le.has(W);L||(le.add(W),$.push(W))}for(var ue=0,ae=U;ue<ae.length;ue++){var W=ae[ue],L=le.has(W);L||(le.add(W),$.push(W))}return $}function Oe(h,A){var b=[],T=te(h,A,!1);if(ie(T))return b;for(var U=T.keys(),le=_(U),$=0;;){var H=d(le);if(!H)return b.length=$,b;var C=l(H);try{b[$]=C}catch(W){try{v(le)}finally{throw W}}$++}}function Xe(h){if(h===null)return 1;switch(typeof h){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return h===null?1:6;default:return 6}}function ie(h){return h===void 0}function ke(h){return h===null}function k(h){return typeof h=="symbol"}function fe(h){return typeof h=="object"?h!==null:typeof h=="function"}function Ct(h,A){switch(Xe(h)){case 0:return h;case 1:return h;case 2:return h;case 3:return h;case 4:return h;case 5:return h}var b=A===3?"string":A===5?"number":"default",T=g(h,i);if(T!==void 0){var U=T.call(h,b);if(fe(U))throw new TypeError;return U}return ft(h,b==="default"?"number":b)}function ft(h,A){if(A==="string"){var b=h.toString;if(u(b)){var T=b.call(h);if(!fe(T))return T}var U=h.valueOf;if(u(U)){var T=U.call(h);if(!fe(T))return T}}else{var U=h.valueOf;if(u(U)){var T=U.call(h);if(!fe(T))return T}var le=h.toString;if(u(le)){var T=le.call(h);if(!fe(T))return T}}throw new TypeError}function ve(h){return!!h}function Te(h){return""+h}function o(h){var A=Ct(h,3);return k(A)?A:Te(A)}function a(h){return Array.isArray?Array.isArray(h):h instanceof Object?h instanceof Array:Object.prototype.toString.call(h)==="[object Array]"}function u(h){return typeof h=="function"}function w(h){return typeof h=="function"}function p(h){switch(Xe(h)){case 3:return!0;case 4:return!0;default:return!1}}function g(h,A){var b=h[A];if(b!=null){if(!u(b))throw new TypeError;return b}}function _(h){var A=g(h,s);if(!u(A))throw new TypeError;var b=A.call(h);if(!fe(b))throw new TypeError;return b}function l(h){return h.value}function d(h){var A=h.next();return A.done?!1:A}function v(h){var A=h.return;A&&A.call(h)}function m(h){var A=Object.getPrototypeOf(h);if(typeof h!="function"||h===E||A!==E)return A;var b=h.prototype,T=b&&Object.getPrototypeOf(b);if(T==null||T===Object.prototype)return A;var U=T.constructor;return typeof U!="function"||U===h?A:U}function O(){var h={},A=[],b=function(){function $(H,C,W){this._index=0,this._keys=H,this._values=C,this._selector=W}return $.prototype["@@iterator"]=function(){return this},$.prototype[s]=function(){return this},$.prototype.next=function(){var H=this._index;if(H>=0&&H<this._keys.length){var C=this._selector(this._keys[H],this._values[H]);return H+1>=this._keys.length?(this._index=-1,this._keys=A,this._values=A):this._index++,{value:C,done:!1}}return{value:void 0,done:!0}},$.prototype.throw=function(H){throw this._index>=0&&(this._index=-1,this._keys=A,this._values=A),H},$.prototype.return=function(H){return this._index>=0&&(this._index=-1,this._keys=A,this._values=A),{value:H,done:!0}},$}();return function(){function $(){this._keys=[],this._values=[],this._cacheKey=h,this._cacheIndex=-2}return Object.defineProperty($.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),$.prototype.has=function(H){return this._find(H,!1)>=0},$.prototype.get=function(H){var C=this._find(H,!1);return C>=0?this._values[C]:void 0},$.prototype.set=function(H,C){var W=this._find(H,!0);return this._values[W]=C,this},$.prototype.delete=function(H){var C=this._find(H,!1);if(C>=0){for(var W=this._keys.length,L=C+1;L<W;L++)this._keys[L-1]=this._keys[L],this._values[L-1]=this._values[L];return this._keys.length--,this._values.length--,H===this._cacheKey&&(this._cacheKey=h,this._cacheIndex=-2),!0}return!1},$.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=h,this._cacheIndex=-2},$.prototype.keys=function(){return new b(this._keys,this._values,T)},$.prototype.values=function(){return new b(this._keys,this._values,U)},$.prototype.entries=function(){return new b(this._keys,this._values,le)},$.prototype["@@iterator"]=function(){return this.entries()},$.prototype[s]=function(){return this.entries()},$.prototype._find=function(H,C){return this._cacheKey!==H&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=H)),this._cacheIndex<0&&C&&(this._cacheIndex=this._keys.length,this._keys.push(H),this._values.push(void 0)),this._cacheIndex},$}();function T($,H){return $}function U($,H){return H}function le($,H){return[$,H]}}function q(){return function(){function h(){this._map=new N}return Object.defineProperty(h.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),h.prototype.has=function(A){return this._map.has(A)},h.prototype.add=function(A){return this._map.set(A,A),this},h.prototype.delete=function(A){return this._map.delete(A)},h.prototype.clear=function(){this._map.clear()},h.prototype.keys=function(){return this._map.keys()},h.prototype.values=function(){return this._map.values()},h.prototype.entries=function(){return this._map.entries()},h.prototype["@@iterator"]=function(){return this.keys()},h.prototype[s]=function(){return this.keys()},h}()}function M(){var h=16,A=B.create(),b=T();return function(){function C(){this._key=T()}return C.prototype.has=function(W){var L=U(W,!1);return L!==void 0?B.has(L,this._key):!1},C.prototype.get=function(W){var L=U(W,!1);return L!==void 0?B.get(L,this._key):void 0},C.prototype.set=function(W,L){var ue=U(W,!0);return ue[this._key]=L,this},C.prototype.delete=function(W){var L=U(W,!1);return L!==void 0?delete L[this._key]:!1},C.prototype.clear=function(){this._key=T()},C}();function T(){var C;do C="@@WeakMap@@"+H();while(B.has(A,C));return A[C]=!0,C}function U(C,W){if(!t.call(C,b)){if(!W)return;Object.defineProperty(C,b,{value:B.create()})}return C[b]}function le(C,W){for(var L=0;L<W;++L)C[L]=Math.random()*255|0;return C}function $(C){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(C)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(C)):le(new Uint8Array(C),C):le(new Array(C),C)}function H(){var C=$(h);C[6]=C[6]&79|64,C[8]=C[8]&191|128;for(var W="",L=0;L<h;++L){var ue=C[L];(L===4||L===6||L===8)&&(W+="-"),ue<16&&(W+="0"),W+=ue.toString(16).toLowerCase()}return W}}function J(h){return h.__=void 0,delete h.__,h}})})(so||(so={}))});var ur=R((hc,fo)=>{var mt;function sr(r){if(typeof r!="function")throw new Error("This module should not be used in runtime. Instead, use a transformer during compilation.")}var Qr=Symbol("assertions");function af(r,e){let t=e;for(let n of r.slice(1))t=t[n.startsWith("[")?parseInt(n.replace("[","").replace("]","")):n];return t}function uf(r,e,t){if(r===void 0)return"validation error";let n=af(e,t);try{return r+", found: "+gt().inspect(n)}catch(i){}try{return r+", found: "+JSON.stringify(n)}catch(i){}return r}var ar=class extends Error{constructor(e,t){super(uf(e.message,e.path,t));this.name="TypeGuardError",this.path=e.path,this.reason=e.reason,this.input=t}};function ff(r,e={}){return Yr(),function(t,n,i){let s=Reflect.getOwnMetadata(Qr,t,n)||[];Reflect.getOwnMetadata("design:returntype",t,n)===Promise?s[i]={assertion:r,options:Object.assign({async:!0},e)}:s[i]={assertion:r,options:e},Reflect.defineMetadata(Qr,s,t,n)}}function lf(r=ar){return Yr(),function(e){for(let t of Object.getOwnPropertyNames(e.prototype)){let n=Reflect.getOwnMetadata(Qr,e.prototype,t);if(n){let i=e.prototype[t];e.prototype[t]=function(...s){for(let f=0;f<n.length;f++){if(!n[f])continue;let c=n[f].assertion(s[f]);if(c!==null){let y=new r(c,s[f]);if(n[f].options.async)return Promise.reject(y);throw y}}return i.apply(this,s)}}}}}function en(r,e=mt){return sr(e),e(r)===null}function tn(r,e=mt){sr(e);let t=e(r);if(t===null)return r;throw new ar(t,r)}function ao(r=mt){return sr(r),e=>en(e,r)}function uo(r=mt){return sr(r),e=>tn(e,r)}function cf(r){mt=r}fo.exports={is:en,assertType:tn,createIs:ao,createAssertType:uo,equals:en,createEquals:ao,assertEquals:tn,createAssertEquals:uo,AssertType:ff,ValidateClass:lf,TypeGuardError:ar,setDefaultGetErrorObject:cf}});var po,lo,co,fr,ho=Fe(()=>{Tr();po=Mt(ur(),1),lo="400",co="600",fr=class extends Ke{constructor(e,t){super();this._iframe={},this._showIframe=!1,this._popup={},this._usePopup=!0,this._requirePopup=!1,this._keepPopup=!1,this._promiseController=[],this._pending=[],this.listener=i=>{var s,f,c,y,B,E;if(i.source!==this._popup.window&&i.source!==((s=this._iframe)===null||s===void 0?void 0:s.window)||i.origin!==((f=this._url)===null||f===void 0?void 0:f.origin)||typeof i.data!="object")return;let{method:P,params:N,id:G,result:X,error:K,session:oe}=i.data;if(console.info(`WalletConnector:${i.source===this._popup.window?"popup":"iframe"}`,i.data),G!=null){if(typeof G!="number"&&typeof G!="string"||typeof G=="string"&&isNaN(parseInt(G)))return;if(!this._promiseController[+G])throw"received result to nonexistent request";this._pending=this._pending.filter(I=>I!=G),K!=null?this._promiseController[+G].reject(K):this._promiseController[+G].resolve(X);return}if(typeof P!="string")return;if(P==="ready"){i.source===this._popup.window&&((y=(c=this._popup).resolve)===null||y===void 0||y.call(c)),i.source===this._iframe.window&&((E=(B=this._iframe).resolve)===null||E===void 0||E.call(B));return}if(P==="change")return;if(P==="showIframe"){if(typeof N!="boolean")return;this.showIframe=N}if(P==="usePopup"){if(typeof N!="boolean")return;this.setUsePopup(N)}if(P==="keepPopup"){if(typeof N!="boolean")return;this.setRequirePopup(N)}let S={method:P,params:N,session:oe};if(!(0,po.is)(S,I=>{function ee(x){return typeof x!="string"?{}:null}function Q(){return null}function F(x){return x!==void 0?{}:null}function D(x){return typeof x!="number"?{}:null}function ne(x){var Y=[F,ee,D];for(let te of Y){var re=te(x);if(!re)return null}return{}}function se(x){if(typeof x!="object"||x===null||Array.isArray(x))return{};if("method"in x){var Y=ee(x.method);if(Y)return Y}else return{};if("params"in x){var Y=Q(x.params);if(Y)return Y}else return{};if("session"in x){var Y=ne(x.session);if(Y)return Y}return null}return se(I)}))return console.warn("dropped");this.emit("message",S)},this._iframeParentNode=t==null?void 0:t.iframeParentNode,this._url=e;let n={origin:window.location.origin,session:Math.random().toString().slice(2)};t!=null&&t.name&&(n.name=t.name),t!=null&&t.logo&&(n.logo=t.logo),this._url.hash=new URLSearchParams(n).toString(),window.addEventListener("message",this.listener)}get url(){var e;return(e=this._url)===null||e===void 0?void 0:e.origin}get showIframe(){return this._showIframe}set showIframe(e){e!==this._showIframe&&(this._showIframe=e,this.deliverMessage({method:"showIframe",params:e}),this.emit("builtin",{showIframe:e}),this._iframeNode&&(this._iframeParentNode||(this._iframeNode.style.opacity=e?"1":"0",e?this._iframeNode.style.removeProperty("pointer-events"):this._iframeNode.style.pointerEvents="none")))}get usePopup(){return this._usePopup}setUsePopup(e){e!==this._usePopup&&(this._usePopup=e,this.emit("builtin",{usePopup:e}))}get requirePopup(){return this._requirePopup}setRequirePopup(e){e!==this._requirePopup&&(this._requirePopup=e,this.emit("builtin",{requirePopup:e}))}get keepPopup(){return this._keepPopup}set keepPopup(e){this._keepPopup=e,this.emit("builtin",{keepPopup:e}),e||this.closePopup(),e&&this.openPopup(!0)}destructor(e){this.closeIframe(),this.closePopup(!0),window.removeEventListener("message",this.listener)}postMessage(e,t){let n=this._promiseController.length,i=new Promise((s,f)=>this._promiseController.push({resolve:s,reject:f})).finally(()=>this.completeRequest());return this.deliverMessage(Object.assign(Object.assign({},e),{id:n})),t!=null&&t.timeout&&setTimeout(()=>this._promiseController[n].reject("timeout"),t.timeout),i}openIframe(){if(this._iframeEl)return;this._iframeNode=document.createElement("div"),this._iframeEl=document.createElement("iframe"),this._iframeEl.src=this._url.toString(),this._iframeEl.allow="usb",this._iframeEl.width=lo,this._iframeEl.height=co,this._iframeEl.style.border="none",this._iframeParentNode||(this._iframeEl.style.borderRadius="8px",this._iframeEl.style.maxWidth="100%",this._iframeEl.style.maxHeight="100%",this._iframeNode.style.opacity="0",this._iframeNode.style.pointerEvents="none",this._iframeNode.style.position="fixed",this._iframeNode.style.inset="0",this._iframeNode.style.zIndex="1000000",this._iframeNode.style.display="flex",this._iframeNode.style.alignItems="center",this._iframeNode.style.justifyContent="center",this._iframeNode.style.transition="0.2s opacity ease",this._iframeNode.style.background="#00000088"),this._iframeNode.appendChild(this._iframeEl);let e=new Promise((n,i)=>this._iframe={resolve:n,reject:i});this._iframe.promise=e;let t=()=>{var n;this._iframeParentNode?this._iframeParentNode.appendChild(this._iframeNode):document.body.appendChild(this._iframeNode),this._iframe.window=(n=this._iframeEl)===null||n===void 0?void 0:n.contentWindow};document.readyState==="complete"||document.readyState==="interactive"?t():document.addEventListener("DOMContentLoaded",t)}closeIframe(){var e,t,n,i;(e=this._iframeEl)===null||e===void 0||e.setAttribute("src","about:blank"),(t=this._iframeNode)===null||t===void 0||t.remove(),this._iframeNode=void 0,this._iframeEl=void 0,(i=(n=this._iframe).reject)===null||i===void 0||i.call(n),this._iframe={}}openPopup(e){if(this._popup.window&&!this._popup.window.closed){this._popup.window.focus();return}if(!this.usePopup&&!e)return;window.name="parent";let t=window.open(this._url.toString(),"_blank",`location,resizable,scrollbars,width=${lo},height=${co}`),n=new Promise((s,f)=>this._popup={window:t,resolve:s,reject:f});this._popup.promise=n;let i=setInterval(()=>{this._popup.window&&!this._popup.window.closed||(this.keepPopup&&(this.keepPopup=!1),clearInterval(i))},200)}closePopup(e){var t,n,i;!this._popup.window||((t=this._popup.window)===null||t===void 0?void 0:t.closed)||(this.keepPopup||this.requirePopup)&&!e||(this._popup.window.location.href="about:blank",this._popup.window.close(),(i=(n=this._popup).reject)===null||i===void 0||i.call(n),this._popup={})}completeRequest(){setTimeout(()=>{this._pending.length||(this.closePopup(),this.showIframe=!1)},100)}deliverMessage(e,t){var n,i;if(!this._url)throw"Missing URL";console.info("WalletConnector:post",e);let s=Object.assign(Object.assign({},e),{jsonrpc:"2.0"});s.id!=null&&this._pending.push(s.id),this.openIframe(),this._iframe.promise=(n=this._iframe.promise)===null||n===void 0?void 0:n.then(()=>{var f;return(f=this._iframe.window)===null||f===void 0?void 0:f.postMessage(s,this._url.origin,t!=null&&t.transfer?[s]:void 0)}).catch(()=>{}),this.openPopup(),this._popup.promise=(i=this._popup.promise)===null||i===void 0?void 0:i.then(()=>{var f;return(f=this._popup.window)===null||f===void 0?void 0:f.postMessage(s,this._url.origin,t!=null&&t.transfer?[s]:void 0)}).catch(()=>{})}}});var yo,rn,me,go=Fe(()=>{Tr();ho();yo=Mt(ur(),1),rn=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(f){f(s)})}return new(t||(t=Promise))(function(s,f){function c(E){try{B(n.next(E))}catch(P){f(P)}}function y(E){try{B(n.throw(E))}catch(P){f(P)}}function B(E){E.done?s(E.value):i(E.value).then(c,y)}B((n=n.apply(r,e||[])).next())})},me=class extends Ke{constructor(e,t,n){super();this._session=0,this._listener=i=>{let{method:s,params:f,session:c}=i;if(!(c!=null&&this._session!=c)&&!(!c&&this._session)){if(s==="connect"){if(!(0,yo.is)(f,y=>{function B(E){return typeof E!="string"?{}:null}return B(y)}))return;this.setAddress(f)}s==="disconnect"&&this.disconnectEvent(!1)}},this._protocolInfo=e,this._appInfo=t,this._emitterPassthrough=i=>{let s=Object.entries(i)[0];this.emit(s[0],s[1])},n&&this.setUrl(n)}get address(){return this._address}setAddress(e){e&&e===this.address||(this._address=e,e!=null?this.emit("connect",e):this.emit("disconnect",e),this.emit("change",e))}get connected(){return this._address!=null}get url(){var e;return(e=this._bridge)===null||e===void 0?void 0:e.url}get showIframe(){var e;return((e=this._bridge)===null||e===void 0?void 0:e.showIframe)||!1}get usePopup(){var e;return((e=this._bridge)===null||e===void 0?void 0:e.usePopup)||!1}get requirePopup(){var e;return((e=this._bridge)===null||e===void 0?void 0:e.requirePopup)||!1}get keepPopup(){var e;return((e=this._bridge)===null||e===void 0?void 0:e.keepPopup)||!1}set keepPopup(e){this._bridge&&(this._bridge.keepPopup=e)}setUrl(e){var t;let n=this._bridge,i=typeof e=="string"?new URL(e.includes("://")?e:"https://"+e):e;if(this._url=i,((t=this._bridge)===null||t===void 0?void 0:t.url)!==i.origin){if(this.disconnect(),!me._bridges[i.origin])this._bridge=new fr(i,this._appInfo),me._bridges[i.origin]={bridge:this._bridge,sessions:[]};else{this._bridge=me._bridges[i.origin].bridge;let s=me._bridges[i.origin].sessions;for(let f=0;f<=s.length;f++)if(s.indexOf(f)<0){this._session=f;break}}me._bridges[i.origin].sessions.push(this._session),this._bridge.on("message",this._listener),this._bridge.on("builtin",this._emitterPassthrough),this._bridge.showIframe!==(n==null?void 0:n.showIframe)&&this.emit("showIframe",this._bridge.showIframe),this._bridge.usePopup!==(n==null?void 0:n.usePopup)&&this.emit("usePopup",this._bridge.usePopup),this._bridge.requirePopup!==(n==null?void 0:n.requirePopup)&&this.emit("requirePopup",this._bridge.requirePopup),this._bridge.keepPopup!==(n==null?void 0:n.keepPopup)&&this.emit("keepPopup",this._bridge.keepPopup)}}connect(e){return rn(this,void 0,void 0,function*(){this._bridge||this._url&&this.setUrl(this._url);let t=new Promise((n,i)=>{this.once("change",s=>s?n(s):i())}).finally(()=>{var n;return(n=this._bridge)===null||n===void 0?void 0:n.completeRequest()});return this._bridge.deliverMessage({method:"connect",params:e}),t})}disconnect(e){return rn(this,void 0,void 0,function*(){return this.disconnectEvent(!0,e)})}disconnectEvent(e,t){return rn(this,void 0,void 0,function*(){if(!this._bridge)return;let n=this._bridge,i=this._session,s=n.url;if(this.setAddress(void 0),this._bridge=void 0,this._session=0,e)try{yield n.postMessage(Object.assign(Object.assign({method:"disconnect",params:[t]},this._protocolInfo),{session:i}))}catch(f){console.warn("disconnect request failed")}n.off("message",this._listener),n.off("builtin",this._emitterPassthrough),me._bridges[s].sessions=me._bridges[s].sessions.filter(f=>f!=i),setTimeout(()=>{me._bridges[s].sessions.length||(me._bridges[s].bridge.destructor(),delete me._bridges[s])},100)})}postMessage(e,t,n){return new Promise((i,s)=>{if(!this._bridge)return s("URL missing");this.once("disconnect",s),this._bridge.postMessage(Object.assign(Object.assign({method:e,params:t},this._protocolInfo),{session:this._session}),n).then(i).catch(s)})}};me._bridges={}});function wo(r){!r.namespaces||(We.find(e=>e===r)||We.push(r),lr())}function vo(r){if(!We.find(e=>e===r))return lr();We.splice(We.indexOf(r),1);for(let e in r.namespaces)wt[e]===r&&(window[e]=nn[e],delete nn[e],delete wt[e]);lr()}function lr(){for(let r of We)for(let e in r.namespaces)wt[e]&&wt[e]!==r||window[e]!==r.namespaces[e]&&(nn[e]=window[e],window[e]=r.namespaces[e],wt[e]=r);window.clearInterval(mo),We.length&&(mo=setInterval(()=>lr(),1e4))}var mo,We,wt,nn,_o=Fe(()=>{We=[],wt={},nn={}});var Eo=R(cr=>{"use strict";cr.byteLength=hf;cr.toByteArray=yf;cr.fromByteArray=wf;var Ie=[],Se=[],pf=typeof Uint8Array<"u"?Uint8Array:Array,on="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(je=0,Ao=on.length;je<Ao;++je)Ie[je]=on[je],Se[on.charCodeAt(je)]=je;var je,Ao;Se["-".charCodeAt(0)]=62;Se["_".charCodeAt(0)]=63;function bo(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function hf(r){var e=bo(r),t=e[0],n=e[1];return(t+n)*3/4-n}function df(r,e,t){return(e+t)*3/4-t}function yf(r){var e,t=bo(r),n=t[0],i=t[1],s=new pf(df(r,n,i)),f=0,c=i>0?n-4:n,y;for(y=0;y<c;y+=4)e=Se[r.charCodeAt(y)]<<18|Se[r.charCodeAt(y+1)]<<12|Se[r.charCodeAt(y+2)]<<6|Se[r.charCodeAt(y+3)],s[f++]=e>>16&255,s[f++]=e>>8&255,s[f++]=e&255;return i===2&&(e=Se[r.charCodeAt(y)]<<2|Se[r.charCodeAt(y+1)]>>4,s[f++]=e&255),i===1&&(e=Se[r.charCodeAt(y)]<<10|Se[r.charCodeAt(y+1)]<<4|Se[r.charCodeAt(y+2)]>>2,s[f++]=e>>8&255,s[f++]=e&255),s}function gf(r){return Ie[r>>18&63]+Ie[r>>12&63]+Ie[r>>6&63]+Ie[r&63]}function mf(r,e,t){for(var n,i=[],s=e;s<t;s+=3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),i.push(gf(n));return i.join("")}function wf(r){for(var e,t=r.length,n=t%3,i=[],s=16383,f=0,c=t-n;f<c;f+=s)i.push(mf(r,f,f+s>c?c:f+s));return n===1?(e=r[t-1],i.push(Ie[e>>2]+Ie[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],i.push(Ie[e>>10]+Ie[e>>4&63]+Ie[e<<2&63]+"=")),i.join("")}});var Be=R(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.b64UrlDecode=ce.b64UrlEncode=ce.bufferTob64Url=ce.bufferTob64=ce.b64UrlToBuffer=ce.stringToB64Url=ce.stringToBuffer=ce.bufferToString=ce.b64UrlToString=ce.concatBuffers=void 0;var So=Eo();function vf(r){let e=0;for(let i=0;i<r.length;i++)e+=r[i].byteLength;let t=new Uint8Array(e),n=0;t.set(new Uint8Array(r[0]),n),n+=r[0].byteLength;for(let i=1;i<r.length;i++)t.set(new Uint8Array(r[i]),n),n+=r[i].byteLength;return t}ce.concatBuffers=vf;function _f(r){let e=To(r);if(typeof TextDecoder>"u"){let t=gt().TextDecoder;return new t("utf-8",{fatal:!0}).decode(e)}return new TextDecoder("utf-8",{fatal:!0}).decode(e)}ce.b64UrlToString=_f;function Af(r){if(typeof TextDecoder>"u"){let e=gt().TextDecoder;return new e("utf-8",{fatal:!0}).decode(r)}return new TextDecoder("utf-8",{fatal:!0}).decode(r)}ce.bufferToString=Af;function Oo(r){if(typeof TextEncoder>"u"){let e=gt().TextEncoder;return new e().encode(r)}return new TextEncoder().encode(r)}ce.stringToBuffer=Oo;function bf(r){return xo(Oo(r))}ce.stringToB64Url=bf;function To(r){return new Uint8Array(So.toByteArray(ko(r)))}ce.b64UrlToBuffer=To;function Po(r){return So.fromByteArray(new Uint8Array(r))}ce.bufferTob64=Po;function xo(r){return No(Po(r))}ce.bufferTob64Url=xo;function No(r){return r.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}ce.b64UrlEncode=No;function ko(r){r=r.replace(/\-/g,"+").replace(/\_/g,"/");let e;return r.length%4==0?e=0:e=4-r.length%4,r.concat("=".repeat(e))}ce.b64UrlDecode=ko});var Uo=R((Io,pr)=>{(function(r){"use strict";var e,t=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,i=Math.floor,s="[BigNumber Error] ",f=s+"Number primitive has more than 15 significant digits: ",c=1e14,y=14,B=9007199254740991,E=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],P=1e7,N=1e9;function G(F){var D,ne,se,x=k.prototype={constructor:k,toString:null,valueOf:null},Y=new k(1),re=20,te=4,de=-7,ye=21,xe=-1e7,we=1e7,Ne=!1,Ce=1,Oe=0,Xe={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},ie="0123456789abcdefghijklmnopqrstuvwxyz",ke=!0;function k(o,a){var u,w,p,g,_,l,d,v,m=this;if(!(m instanceof k))return new k(o,a);if(a==null){if(o&&o._isBigNumber===!0){m.s=o.s,!o.c||o.e>we?m.c=m.e=null:o.e<xe?m.c=[m.e=0]:(m.e=o.e,m.c=o.c.slice());return}if((l=typeof o=="number")&&o*0==0){if(m.s=1/o<0?(o=-o,-1):1,o===~~o){for(g=0,_=o;_>=10;_/=10,g++);g>we?m.c=m.e=null:(m.e=g,m.c=[o]);return}v=String(o)}else{if(!t.test(v=String(o)))return se(m,v,l);m.s=v.charCodeAt(0)==45?(v=v.slice(1),-1):1}(g=v.indexOf("."))>-1&&(v=v.replace(".","")),(_=v.search(/e/i))>0?(g<0&&(g=_),g+=+v.slice(_+1),v=v.substring(0,_)):g<0&&(g=v.length)}else{if(S(a,2,ie.length,"Base"),a==10&&ke)return m=new k(o),ve(m,re+m.e+1,te);if(v=String(o),l=typeof o=="number"){if(o*0!=0)return se(m,v,l,a);if(m.s=1/o<0?(v=v.slice(1),-1):1,k.DEBUG&&v.replace(/^0\.0*|\./,"").length>15)throw Error(f+o)}else m.s=v.charCodeAt(0)===45?(v=v.slice(1),-1):1;for(u=ie.slice(0,a),g=_=0,d=v.length;_<d;_++)if(u.indexOf(w=v.charAt(_))<0){if(w=="."){if(_>g){g=d;continue}}else if(!p&&(v==v.toUpperCase()&&(v=v.toLowerCase())||v==v.toLowerCase()&&(v=v.toUpperCase()))){p=!0,_=-1,g=0;continue}return se(m,String(o),l,a)}l=!1,v=ne(v,a,10,m.s),(g=v.indexOf("."))>-1?v=v.replace(".",""):g=v.length}for(_=0;v.charCodeAt(_)===48;_++);for(d=v.length;v.charCodeAt(--d)===48;);if(v=v.slice(_,++d)){if(d-=_,l&&k.DEBUG&&d>15&&(o>B||o!==i(o)))throw Error(f+m.s*o);if((g=g-_-1)>we)m.c=m.e=null;else if(g<xe)m.c=[m.e=0];else{if(m.e=g,m.c=[],_=(g+1)%y,g<0&&(_+=y),_<d){for(_&&m.c.push(+v.slice(0,_)),d-=y;_<d;)m.c.push(+v.slice(_,_+=y));_=y-(v=v.slice(_)).length}else _-=d;for(;_--;v+="0");m.c.push(+v)}}else m.c=[m.e=0]}k.clone=G,k.ROUND_UP=0,k.ROUND_DOWN=1,k.ROUND_CEIL=2,k.ROUND_FLOOR=3,k.ROUND_HALF_UP=4,k.ROUND_HALF_DOWN=5,k.ROUND_HALF_EVEN=6,k.ROUND_HALF_CEIL=7,k.ROUND_HALF_FLOOR=8,k.EUCLID=9,k.config=k.set=function(o){var a,u;if(o!=null)if(typeof o=="object"){if(o.hasOwnProperty(a="DECIMAL_PLACES")&&(u=o[a],S(u,0,N,a),re=u),o.hasOwnProperty(a="ROUNDING_MODE")&&(u=o[a],S(u,0,8,a),te=u),o.hasOwnProperty(a="EXPONENTIAL_AT")&&(u=o[a],u&&u.pop?(S(u[0],-N,0,a),S(u[1],0,N,a),de=u[0],ye=u[1]):(S(u,-N,N,a),de=-(ye=u<0?-u:u))),o.hasOwnProperty(a="RANGE"))if(u=o[a],u&&u.pop)S(u[0],-N,-1,a),S(u[1],1,N,a),xe=u[0],we=u[1];else if(S(u,-N,N,a),u)xe=-(we=u<0?-u:u);else throw Error(s+a+" cannot be zero: "+u);if(o.hasOwnProperty(a="CRYPTO"))if(u=o[a],u===!!u)if(u)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Ne=u;else throw Ne=!u,Error(s+"crypto unavailable");else Ne=u;else throw Error(s+a+" not true or false: "+u);if(o.hasOwnProperty(a="MODULO_MODE")&&(u=o[a],S(u,0,9,a),Ce=u),o.hasOwnProperty(a="POW_PRECISION")&&(u=o[a],S(u,0,N,a),Oe=u),o.hasOwnProperty(a="FORMAT"))if(u=o[a],typeof u=="object")Xe=u;else throw Error(s+a+" not an object: "+u);if(o.hasOwnProperty(a="ALPHABET"))if(u=o[a],typeof u=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(u))ke=u.slice(0,10)=="0123456789",ie=u;else throw Error(s+a+" invalid: "+u)}else throw Error(s+"Object expected: "+o);return{DECIMAL_PLACES:re,ROUNDING_MODE:te,EXPONENTIAL_AT:[de,ye],RANGE:[xe,we],CRYPTO:Ne,MODULO_MODE:Ce,POW_PRECISION:Oe,FORMAT:Xe,ALPHABET:ie}},k.isBigNumber=function(o){if(!o||o._isBigNumber!==!0)return!1;if(!k.DEBUG)return!0;var a,u,w=o.c,p=o.e,g=o.s;e:if({}.toString.call(w)=="[object Array]"){if((g===1||g===-1)&&p>=-N&&p<=N&&p===i(p)){if(w[0]===0){if(p===0&&w.length===1)return!0;break e}if(a=(p+1)%y,a<1&&(a+=y),String(w[0]).length==a){for(a=0;a<w.length;a++)if(u=w[a],u<0||u>=c||u!==i(u))break e;if(u!==0)return!0}}}else if(w===null&&p===null&&(g===null||g===1||g===-1))return!0;throw Error(s+"Invalid BigNumber: "+o)},k.maximum=k.max=function(){return Ct(arguments,x.lt)},k.minimum=k.min=function(){return Ct(arguments,x.gt)},k.random=function(){var o=9007199254740992,a=Math.random()*o&2097151?function(){return i(Math.random()*o)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(u){var w,p,g,_,l,d=0,v=[],m=new k(Y);if(u==null?u=re:S(u,0,N),_=n(u/y),Ne)if(crypto.getRandomValues){for(w=crypto.getRandomValues(new Uint32Array(_*=2));d<_;)l=w[d]*131072+(w[d+1]>>>11),l>=9e15?(p=crypto.getRandomValues(new Uint32Array(2)),w[d]=p[0],w[d+1]=p[1]):(v.push(l%1e14),d+=2);d=_/2}else if(crypto.randomBytes){for(w=crypto.randomBytes(_*=7);d<_;)l=(w[d]&31)*281474976710656+w[d+1]*1099511627776+w[d+2]*4294967296+w[d+3]*16777216+(w[d+4]<<16)+(w[d+5]<<8)+w[d+6],l>=9e15?crypto.randomBytes(7).copy(w,d):(v.push(l%1e14),d+=7);d=_/7}else throw Ne=!1,Error(s+"crypto unavailable");if(!Ne)for(;d<_;)l=a(),l<9e15&&(v[d++]=l%1e14);for(_=v[--d],u%=y,_&&u&&(l=E[y-u],v[d]=i(_/l)*l);v[d]===0;v.pop(),d--);if(d<0)v=[g=0];else{for(g=-1;v[0]===0;v.splice(0,1),g-=y);for(d=1,l=v[0];l>=10;l/=10,d++);d<y&&(g-=y-d)}return m.e=g,m.c=v,m}}(),k.sum=function(){for(var o=1,a=arguments,u=new k(a[0]);o<a.length;)u=u.plus(a[o++]);return u},ne=function(){var o="0123456789";function a(u,w,p,g){for(var _,l=[0],d,v=0,m=u.length;v<m;){for(d=l.length;d--;l[d]*=w);for(l[0]+=g.indexOf(u.charAt(v++)),_=0;_<l.length;_++)l[_]>p-1&&(l[_+1]==null&&(l[_+1]=0),l[_+1]+=l[_]/p|0,l[_]%=p)}return l.reverse()}return function(u,w,p,g,_){var l,d,v,m,O,q,M,J,h=u.indexOf("."),A=re,b=te;for(h>=0&&(m=Oe,Oe=0,u=u.replace(".",""),J=new k(w),q=J.pow(u.length-h),Oe=m,J.c=a(Q(K(q.c),q.e,"0"),10,p,o),J.e=J.c.length),M=a(u,w,p,_?(l=ie,o):(l=o,ie)),v=m=M.length;M[--m]==0;M.pop());if(!M[0])return l.charAt(0);if(h<0?--v:(q.c=M,q.e=v,q.s=g,q=D(q,J,A,b,p),M=q.c,O=q.r,v=q.e),d=v+A+1,h=M[d],m=p/2,O=O||d<0||M[d+1]!=null,O=b<4?(h!=null||O)&&(b==0||b==(q.s<0?3:2)):h>m||h==m&&(b==4||O||b==6&&M[d-1]&1||b==(q.s<0?8:7)),d<1||!M[0])u=O?Q(l.charAt(1),-A,l.charAt(0)):l.charAt(0);else{if(M.length=d,O)for(--p;++M[--d]>p;)M[d]=0,d||(++v,M=[1].concat(M));for(m=M.length;!M[--m];);for(h=0,u="";h<=m;u+=l.charAt(M[h++]));u=Q(u,v,l.charAt(0))}return u}}(),D=function(){function o(w,p,g){var _,l,d,v,m=0,O=w.length,q=p%P,M=p/P|0;for(w=w.slice();O--;)d=w[O]%P,v=w[O]/P|0,_=M*d+v*q,l=q*d+_%P*P+m,m=(l/g|0)+(_/P|0)+M*v,w[O]=l%g;return m&&(w=[m].concat(w)),w}function a(w,p,g,_){var l,d;if(g!=_)d=g>_?1:-1;else for(l=d=0;l<g;l++)if(w[l]!=p[l]){d=w[l]>p[l]?1:-1;break}return d}function u(w,p,g,_){for(var l=0;g--;)w[g]-=l,l=w[g]<p[g]?1:0,w[g]=l*_+w[g]-p[g];for(;!w[0]&&w.length>1;w.splice(0,1));}return function(w,p,g,_,l){var d,v,m,O,q,M,J,h,A,b,T,U,le,$,H,C,W,L=w.s==p.s?1:-1,ue=w.c,ae=p.c;if(!ue||!ue[0]||!ae||!ae[0])return new k(!w.s||!p.s||(ue?ae&&ue[0]==ae[0]:!ae)?NaN:ue&&ue[0]==0||!ae?L*0:L/0);for(h=new k(L),A=h.c=[],v=w.e-p.e,L=g+v+1,l||(l=c,v=X(w.e/y)-X(p.e/y),L=L/y|0),m=0;ae[m]==(ue[m]||0);m++);if(ae[m]>(ue[m]||0)&&v--,L<0)A.push(1),O=!0;else{for($=ue.length,C=ae.length,m=0,L+=2,q=i(l/(ae[0]+1)),q>1&&(ae=o(ae,q,l),ue=o(ue,q,l),C=ae.length,$=ue.length),le=C,b=ue.slice(0,C),T=b.length;T<C;b[T++]=0);W=ae.slice(),W=[0].concat(W),H=ae[0],ae[1]>=l/2&&H++;do{if(q=0,d=a(ae,b,C,T),d<0){if(U=b[0],C!=T&&(U=U*l+(b[1]||0)),q=i(U/H),q>1)for(q>=l&&(q=l-1),M=o(ae,q,l),J=M.length,T=b.length;a(M,b,J,T)==1;)q--,u(M,C<J?W:ae,J,l),J=M.length,d=1;else q==0&&(d=q=1),M=ae.slice(),J=M.length;if(J<T&&(M=[0].concat(M)),u(b,M,T,l),T=b.length,d==-1)for(;a(ae,b,C,T)<1;)q++,u(b,C<T?W:ae,T,l),T=b.length}else d===0&&(q++,b=[0]);A[m++]=q,b[0]?b[T++]=ue[le]||0:(b=[ue[le]],T=1)}while((le++<$||b[0]!=null)&&L--);O=b[0]!=null,A[0]||A.splice(0,1)}if(l==c){for(m=1,L=A[0];L>=10;L/=10,m++);ve(h,g+(h.e=m+v*y-1)+1,_,O)}else h.e=v,h.r=+O;return h}}();function fe(o,a,u,w){var p,g,_,l,d;if(u==null?u=te:S(u,0,8),!o.c)return o.toString();if(p=o.c[0],_=o.e,a==null)d=K(o.c),d=w==1||w==2&&(_<=de||_>=ye)?ee(d,_):Q(d,_,"0");else if(o=ve(new k(o),a,u),g=o.e,d=K(o.c),l=d.length,w==1||w==2&&(a<=g||g<=de)){for(;l<a;d+="0",l++);d=ee(d,g)}else if(a-=_,d=Q(d,g,"0"),g+1>l){if(--a>0)for(d+=".";a--;d+="0");}else if(a+=g-l,a>0)for(g+1==l&&(d+=".");a--;d+="0");return o.s<0&&p?"-"+d:d}function Ct(o,a){for(var u,w=1,p=new k(o[0]);w<o.length;w++)if(u=new k(o[w]),u.s)a.call(p,u)&&(p=u);else{p=u;break}return p}function ft(o,a,u){for(var w=1,p=a.length;!a[--p];a.pop());for(p=a[0];p>=10;p/=10,w++);return(u=w+u*y-1)>we?o.c=o.e=null:u<xe?o.c=[o.e=0]:(o.e=u,o.c=a),o}se=function(){var o=/^(-?)0([xbo])(?=\w[\w.]*$)/i,a=/^([^.]+)\.$/,u=/^\.([^.]+)$/,w=/^-?(Infinity|NaN)$/,p=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(g,_,l,d){var v,m=l?_:_.replace(p,"");if(w.test(m))g.s=isNaN(m)?null:m<0?-1:1;else{if(!l&&(m=m.replace(o,function(O,q,M){return v=(M=M.toLowerCase())=="x"?16:M=="b"?2:8,!d||d==v?q:O}),d&&(v=d,m=m.replace(a,"$1").replace(u,"0.$1")),_!=m))return new k(m,v);if(k.DEBUG)throw Error(s+"Not a"+(d?" base "+d:"")+" number: "+_);g.s=null}g.c=g.e=null}}();function ve(o,a,u,w){var p,g,_,l,d,v,m,O=o.c,q=E;if(O){e:{for(p=1,l=O[0];l>=10;l/=10,p++);if(g=a-p,g<0)g+=y,_=a,d=O[v=0],m=d/q[p-_-1]%10|0;else if(v=n((g+1)/y),v>=O.length)if(w){for(;O.length<=v;O.push(0));d=m=0,p=1,g%=y,_=g-y+1}else break e;else{for(d=l=O[v],p=1;l>=10;l/=10,p++);g%=y,_=g-y+p,m=_<0?0:d/q[p-_-1]%10|0}if(w=w||a<0||O[v+1]!=null||(_<0?d:d%q[p-_-1]),w=u<4?(m||w)&&(u==0||u==(o.s<0?3:2)):m>5||m==5&&(u==4||w||u==6&&(g>0?_>0?d/q[p-_]:0:O[v-1])%10&1||u==(o.s<0?8:7)),a<1||!O[0])return O.length=0,w?(a-=o.e+1,O[0]=q[(y-a%y)%y],o.e=-a||0):O[0]=o.e=0,o;if(g==0?(O.length=v,l=1,v--):(O.length=v+1,l=q[y-g],O[v]=_>0?i(d/q[p-_]%q[_])*l:0),w)for(;;)if(v==0){for(g=1,_=O[0];_>=10;_/=10,g++);for(_=O[0]+=l,l=1;_>=10;_/=10,l++);g!=l&&(o.e++,O[0]==c&&(O[0]=1));break}else{if(O[v]+=l,O[v]!=c)break;O[v--]=0,l=1}for(g=O.length;O[--g]===0;O.pop());}o.e>we?o.c=o.e=null:o.e<xe&&(o.c=[o.e=0])}return o}function Te(o){var a,u=o.e;return u===null?o.toString():(a=K(o.c),a=u<=de||u>=ye?ee(a,u):Q(a,u,"0"),o.s<0?"-"+a:a)}return x.absoluteValue=x.abs=function(){var o=new k(this);return o.s<0&&(o.s=1),o},x.comparedTo=function(o,a){return oe(this,new k(o,a))},x.decimalPlaces=x.dp=function(o,a){var u,w,p,g=this;if(o!=null)return S(o,0,N),a==null?a=te:S(a,0,8),ve(new k(g),o+g.e+1,a);if(!(u=g.c))return null;if(w=((p=u.length-1)-X(this.e/y))*y,p=u[p])for(;p%10==0;p/=10,w--);return w<0&&(w=0),w},x.dividedBy=x.div=function(o,a){return D(this,new k(o,a),re,te)},x.dividedToIntegerBy=x.idiv=function(o,a){return D(this,new k(o,a),0,1)},x.exponentiatedBy=x.pow=function(o,a){var u,w,p,g,_,l,d,v,m,O=this;if(o=new k(o),o.c&&!o.isInteger())throw Error(s+"Exponent not an integer: "+Te(o));if(a!=null&&(a=new k(a)),l=o.e>14,!O.c||!O.c[0]||O.c[0]==1&&!O.e&&O.c.length==1||!o.c||!o.c[0])return m=new k(Math.pow(+Te(O),l?2-I(o):+Te(o))),a?m.mod(a):m;if(d=o.s<0,a){if(a.c?!a.c[0]:!a.s)return new k(NaN);w=!d&&O.isInteger()&&a.isInteger(),w&&(O=O.mod(a))}else{if(o.e>9&&(O.e>0||O.e<-1||(O.e==0?O.c[0]>1||l&&O.c[1]>=24e7:O.c[0]<8e13||l&&O.c[0]<=9999975e7)))return g=O.s<0&&I(o)?-0:0,O.e>-1&&(g=1/g),new k(d?1/g:g);Oe&&(g=n(Oe/y+2))}for(l?(u=new k(.5),d&&(o.s=1),v=I(o)):(p=Math.abs(+Te(o)),v=p%2),m=new k(Y);;){if(v){if(m=m.times(O),!m.c)break;g?m.c.length>g&&(m.c.length=g):w&&(m=m.mod(a))}if(p){if(p=i(p/2),p===0)break;v=p%2}else if(o=o.times(u),ve(o,o.e+1,1),o.e>14)v=I(o);else{if(p=+Te(o),p===0)break;v=p%2}O=O.times(O),g?O.c&&O.c.length>g&&(O.c.length=g):w&&(O=O.mod(a))}return w?m:(d&&(m=Y.div(m)),a?m.mod(a):g?ve(m,Oe,te,_):m)},x.integerValue=function(o){var a=new k(this);return o==null?o=te:S(o,0,8),ve(a,a.e+1,o)},x.isEqualTo=x.eq=function(o,a){return oe(this,new k(o,a))===0},x.isFinite=function(){return!!this.c},x.isGreaterThan=x.gt=function(o,a){return oe(this,new k(o,a))>0},x.isGreaterThanOrEqualTo=x.gte=function(o,a){return(a=oe(this,new k(o,a)))===1||a===0},x.isInteger=function(){return!!this.c&&X(this.e/y)>this.c.length-2},x.isLessThan=x.lt=function(o,a){return oe(this,new k(o,a))<0},x.isLessThanOrEqualTo=x.lte=function(o,a){return(a=oe(this,new k(o,a)))===-1||a===0},x.isNaN=function(){return!this.s},x.isNegative=function(){return this.s<0},x.isPositive=function(){return this.s>0},x.isZero=function(){return!!this.c&&this.c[0]==0},x.minus=function(o,a){var u,w,p,g,_=this,l=_.s;if(o=new k(o,a),a=o.s,!l||!a)return new k(NaN);if(l!=a)return o.s=-a,_.plus(o);var d=_.e/y,v=o.e/y,m=_.c,O=o.c;if(!d||!v){if(!m||!O)return m?(o.s=-a,o):new k(O?_:NaN);if(!m[0]||!O[0])return O[0]?(o.s=-a,o):new k(m[0]?_:te==3?-0:0)}if(d=X(d),v=X(v),m=m.slice(),l=d-v){for((g=l<0)?(l=-l,p=m):(v=d,p=O),p.reverse(),a=l;a--;p.push(0));p.reverse()}else for(w=(g=(l=m.length)<(a=O.length))?l:a,l=a=0;a<w;a++)if(m[a]!=O[a]){g=m[a]<O[a];break}if(g&&(p=m,m=O,O=p,o.s=-o.s),a=(w=O.length)-(u=m.length),a>0)for(;a--;m[u++]=0);for(a=c-1;w>l;){if(m[--w]<O[w]){for(u=w;u&&!m[--u];m[u]=a);--m[u],m[w]+=c}m[w]-=O[w]}for(;m[0]==0;m.splice(0,1),--v);return m[0]?ft(o,m,v):(o.s=te==3?-1:1,o.c=[o.e=0],o)},x.modulo=x.mod=function(o,a){var u,w,p=this;return o=new k(o,a),!p.c||!o.s||o.c&&!o.c[0]?new k(NaN):!o.c||p.c&&!p.c[0]?new k(p):(Ce==9?(w=o.s,o.s=1,u=D(p,o,0,3),o.s=w,u.s*=w):u=D(p,o,0,Ce),o=p.minus(u.times(o)),!o.c[0]&&Ce==1&&(o.s=p.s),o)},x.multipliedBy=x.times=function(o,a){var u,w,p,g,_,l,d,v,m,O,q,M,J,h,A,b=this,T=b.c,U=(o=new k(o,a)).c;if(!T||!U||!T[0]||!U[0])return!b.s||!o.s||T&&!T[0]&&!U||U&&!U[0]&&!T?o.c=o.e=o.s=null:(o.s*=b.s,!T||!U?o.c=o.e=null:(o.c=[0],o.e=0)),o;for(w=X(b.e/y)+X(o.e/y),o.s*=b.s,d=T.length,O=U.length,d<O&&(J=T,T=U,U=J,p=d,d=O,O=p),p=d+O,J=[];p--;J.push(0));for(h=c,A=P,p=O;--p>=0;){for(u=0,q=U[p]%A,M=U[p]/A|0,_=d,g=p+_;g>p;)v=T[--_]%A,m=T[_]/A|0,l=M*v+m*q,v=q*v+l%A*A+J[g]+u,u=(v/h|0)+(l/A|0)+M*m,J[g--]=v%h;J[g]=u}return u?++w:J.splice(0,1),ft(o,J,w)},x.negated=function(){var o=new k(this);return o.s=-o.s||null,o},x.plus=function(o,a){var u,w=this,p=w.s;if(o=new k(o,a),a=o.s,!p||!a)return new k(NaN);if(p!=a)return o.s=-a,w.minus(o);var g=w.e/y,_=o.e/y,l=w.c,d=o.c;if(!g||!_){if(!l||!d)return new k(p/0);if(!l[0]||!d[0])return d[0]?o:new k(l[0]?w:p*0)}if(g=X(g),_=X(_),l=l.slice(),p=g-_){for(p>0?(_=g,u=d):(p=-p,u=l),u.reverse();p--;u.push(0));u.reverse()}for(p=l.length,a=d.length,p-a<0&&(u=d,d=l,l=u,a=p),p=0;a;)p=(l[--a]=l[a]+d[a]+p)/c|0,l[a]=c===l[a]?0:l[a]%c;return p&&(l=[p].concat(l),++_),ft(o,l,_)},x.precision=x.sd=function(o,a){var u,w,p,g=this;if(o!=null&&o!==!!o)return S(o,1,N),a==null?a=te:S(a,0,8),ve(new k(g),o,a);if(!(u=g.c))return null;if(p=u.length-1,w=p*y+1,p=u[p]){for(;p%10==0;p/=10,w--);for(p=u[0];p>=10;p/=10,w++);}return o&&g.e+1>w&&(w=g.e+1),w},x.shiftedBy=function(o){return S(o,-B,B),this.times("1e"+o)},x.squareRoot=x.sqrt=function(){var o,a,u,w,p,g=this,_=g.c,l=g.s,d=g.e,v=re+4,m=new k("0.5");if(l!==1||!_||!_[0])return new k(!l||l<0&&(!_||_[0])?NaN:_?g:1/0);if(l=Math.sqrt(+Te(g)),l==0||l==1/0?(a=K(_),(a.length+d)%2==0&&(a+="0"),l=Math.sqrt(+a),d=X((d+1)/2)-(d<0||d%2),l==1/0?a="5e"+d:(a=l.toExponential(),a=a.slice(0,a.indexOf("e")+1)+d),u=new k(a)):u=new k(l+""),u.c[0]){for(d=u.e,l=d+v,l<3&&(l=0);;)if(p=u,u=m.times(p.plus(D(g,p,v,1))),K(p.c).slice(0,l)===(a=K(u.c)).slice(0,l))if(u.e<d&&--l,a=a.slice(l-3,l+1),a=="9999"||!w&&a=="4999"){if(!w&&(ve(p,p.e+re+2,0),p.times(p).eq(g))){u=p;break}v+=4,l+=4,w=1}else{(!+a||!+a.slice(1)&&a.charAt(0)=="5")&&(ve(u,u.e+re+2,1),o=!u.times(u).eq(g));break}}return ve(u,u.e+re+1,te,o)},x.toExponential=function(o,a){return o!=null&&(S(o,0,N),o++),fe(this,o,a,1)},x.toFixed=function(o,a){return o!=null&&(S(o,0,N),o=o+this.e+1),fe(this,o,a)},x.toFormat=function(o,a,u){var w,p=this;if(u==null)o!=null&&a&&typeof a=="object"?(u=a,a=null):o&&typeof o=="object"?(u=o,o=a=null):u=Xe;else if(typeof u!="object")throw Error(s+"Argument not an object: "+u);if(w=p.toFixed(o,a),p.c){var g,_=w.split("."),l=+u.groupSize,d=+u.secondaryGroupSize,v=u.groupSeparator||"",m=_[0],O=_[1],q=p.s<0,M=q?m.slice(1):m,J=M.length;if(d&&(g=l,l=d,d=g,J-=g),l>0&&J>0){for(g=J%l||l,m=M.substr(0,g);g<J;g+=l)m+=v+M.substr(g,l);d>0&&(m+=v+M.slice(g)),q&&(m="-"+m)}w=O?m+(u.decimalSeparator||"")+((d=+u.fractionGroupSize)?O.replace(new RegExp("\\d{"+d+"}\\B","g"),"$&"+(u.fractionGroupSeparator||"")):O):m}return(u.prefix||"")+w+(u.suffix||"")},x.toFraction=function(o){var a,u,w,p,g,_,l,d,v,m,O,q,M=this,J=M.c;if(o!=null&&(l=new k(o),!l.isInteger()&&(l.c||l.s!==1)||l.lt(Y)))throw Error(s+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+Te(l));if(!J)return new k(M);for(a=new k(Y),v=u=new k(Y),w=d=new k(Y),q=K(J),g=a.e=q.length-M.e-1,a.c[0]=E[(_=g%y)<0?y+_:_],o=!o||l.comparedTo(a)>0?g>0?a:v:l,_=we,we=1/0,l=new k(q),d.c[0]=0;m=D(l,a,0,1),p=u.plus(m.times(w)),p.comparedTo(o)!=1;)u=w,w=p,v=d.plus(m.times(p=v)),d=p,a=l.minus(m.times(p=a)),l=p;return p=D(o.minus(u),w,0,1),d=d.plus(p.times(v)),u=u.plus(p.times(w)),d.s=v.s=M.s,g=g*2,O=D(v,w,g,te).minus(M).abs().comparedTo(D(d,u,g,te).minus(M).abs())<1?[v,w]:[d,u],we=_,O},x.toNumber=function(){return+Te(this)},x.toPrecision=function(o,a){return o!=null&&S(o,1,N),fe(this,o,a,2)},x.toString=function(o){var a,u=this,w=u.s,p=u.e;return p===null?w?(a="Infinity",w<0&&(a="-"+a)):a="NaN":(o==null?a=p<=de||p>=ye?ee(K(u.c),p):Q(K(u.c),p,"0"):o===10&&ke?(u=ve(new k(u),re+p+1,te),a=Q(K(u.c),u.e,"0")):(S(o,2,ie.length,"Base"),a=ne(Q(K(u.c),p,"0"),10,o,w,!0)),w<0&&u.c[0]&&(a="-"+a)),a},x.valueOf=x.toJSON=function(){return Te(this)},x._isBigNumber=!0,F!=null&&k.set(F),k}function X(F){var D=F|0;return F>0||F===D?D:D-1}function K(F){for(var D,ne,se=1,x=F.length,Y=F[0]+"";se<x;){for(D=F[se++]+"",ne=y-D.length;ne--;D="0"+D);Y+=D}for(x=Y.length;Y.charCodeAt(--x)===48;);return Y.slice(0,x+1||1)}function oe(F,D){var ne,se,x=F.c,Y=D.c,re=F.s,te=D.s,de=F.e,ye=D.e;if(!re||!te)return null;if(ne=x&&!x[0],se=Y&&!Y[0],ne||se)return ne?se?0:-te:re;if(re!=te)return re;if(ne=re<0,se=de==ye,!x||!Y)return se?0:!x^ne?1:-1;if(!se)return de>ye^ne?1:-1;for(te=(de=x.length)<(ye=Y.length)?de:ye,re=0;re<te;re++)if(x[re]!=Y[re])return x[re]>Y[re]^ne?1:-1;return de==ye?0:de>ye^ne?1:-1}function S(F,D,ne,se){if(F<D||F>ne||F!==i(F))throw Error(s+(se||"Argument")+(typeof F=="number"?F<D||F>ne?" out of range: ":" not an integer: ":" not a primitive number: ")+String(F))}function I(F){var D=F.c.length-1;return X(F.e/y)==D&&F.c[D]%2!=0}function ee(F,D){return(F.length>1?F.charAt(0)+"."+F.slice(1):F)+(D<0?"e":"e+")+D}function Q(F,D,ne){var se,x;if(D<0){for(x=ne+".";++D;x+=ne);F=x+F}else if(se=F.length,++D>se){for(x=ne,D-=se;--D;x+=ne);F+=x}else D<se&&(F=F.slice(0,D)+"."+F.slice(D));return F}e=G(),e.default=e.BigNumber=e,typeof define=="function"&&define.amd?define(function(){return e}):typeof pr<"u"&&pr.exports?pr.exports=e:(r||(r=typeof self<"u"&&self?self:window),r.BigNumber=e)})(Io)});var Ro=R(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});var Ef=Uo(),Bo=class{constructor(){this.BigNum=(e,t)=>{let n=Ef.BigNumber.clone({DECIMAL_PLACES:t});return new n(e)}}winstonToAr(e,{formatted:t=!1,decimals:n=12,trim:i=!0}={}){let s=this.stringToBigNum(e,n).shiftedBy(-12);return t?s.toFormat(n):s.toFixed(n)}arToWinston(e,{formatted:t=!1}={}){let n=this.stringToBigNum(e).shiftedBy(12);return t?n.toFormat():n.toFixed(0)}compare(e,t){let n=this.stringToBigNum(e),i=this.stringToBigNum(t);return n.comparedTo(i)}isEqual(e,t){return this.compare(e,t)===0}isLessThan(e,t){let n=this.stringToBigNum(e),i=this.stringToBigNum(t);return n.isLessThan(i)}isGreaterThan(e,t){let n=this.stringToBigNum(e),i=this.stringToBigNum(t);return n.isGreaterThan(i)}add(e,t){let n=this.stringToBigNum(e),i=this.stringToBigNum(t);return n.plus(t).toFixed(0)}sub(e,t){let n=this.stringToBigNum(e),i=this.stringToBigNum(t);return n.minus(t).toFixed(0)}stringToBigNum(e,t=12){return this.BigNum(e,t)}};sn.default=Bo});var an=R((Ec,Co)=>{"use strict";Co.exports=function(e,t){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(t,i)}}});var _e=R((Sc,Do)=>{"use strict";var Sf=an(),ze=Object.prototype.toString;function ln(r){return ze.call(r)==="[object Array]"}function un(r){return typeof r>"u"}function Of(r){return r!==null&&!un(r)&&r.constructor!==null&&!un(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function Tf(r){return ze.call(r)==="[object ArrayBuffer]"}function Pf(r){return typeof FormData<"u"&&r instanceof FormData}function xf(r){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&r.buffer instanceof ArrayBuffer,e}function Nf(r){return typeof r=="string"}function kf(r){return typeof r=="number"}function qo(r){return r!==null&&typeof r=="object"}function hr(r){if(ze.call(r)!=="[object Object]")return!1;var e=Object.getPrototypeOf(r);return e===null||e===Object.prototype}function If(r){return ze.call(r)==="[object Date]"}function Uf(r){return ze.call(r)==="[object File]"}function Bf(r){return ze.call(r)==="[object Blob]"}function Mo(r){return ze.call(r)==="[object Function]"}function Rf(r){return qo(r)&&Mo(r.pipe)}function Cf(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}function qf(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function Mf(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function cn(r,e){if(!(r===null||typeof r>"u"))if(typeof r!="object"&&(r=[r]),ln(r))for(var t=0,n=r.length;t<n;t++)e.call(null,r[t],t,r);else for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.call(null,r[i],i,r)}function fn(){var r={};function e(i,s){hr(r[s])&&hr(i)?r[s]=fn(r[s],i):hr(i)?r[s]=fn({},i):ln(i)?r[s]=i.slice():r[s]=i}for(var t=0,n=arguments.length;t<n;t++)cn(arguments[t],e);return r}function Df(r,e,t){return cn(e,function(i,s){t&&typeof i=="function"?r[s]=Sf(i,t):r[s]=i}),r}function Ff(r){return r.charCodeAt(0)===65279&&(r=r.slice(1)),r}Do.exports={isArray:ln,isArrayBuffer:Tf,isBuffer:Of,isFormData:Pf,isArrayBufferView:xf,isString:Nf,isNumber:kf,isObject:qo,isPlainObject:hr,isUndefined:un,isDate:If,isFile:Uf,isBlob:Bf,isFunction:Mo,isStream:Rf,isURLSearchParams:Cf,isStandardBrowserEnv:Mf,forEach:cn,merge:fn,extend:Df,trim:qf,stripBOM:Ff}});var pn=R((Oc,Lo)=>{"use strict";var it=_e();function Fo(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}Lo.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(it.isURLSearchParams(t))i=t.toString();else{var s=[];it.forEach(t,function(y,B){y===null||typeof y>"u"||(it.isArray(y)?B=B+"[]":y=[y],it.forEach(y,function(P){it.isDate(P)?P=P.toISOString():it.isObject(P)&&(P=JSON.stringify(P)),s.push(Fo(B)+"="+Fo(P))}))}),i=s.join("&")}if(i){var f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}});var Go=R((Tc,$o)=>{"use strict";var Lf=_e();function dr(){this.handlers=[]}dr.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};dr.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};dr.prototype.forEach=function(e){Lf.forEach(this.handlers,function(n){n!==null&&e(n)})};$o.exports=dr});var Wo=R((Pc,Ho)=>{"use strict";var $f=_e();Ho.exports=function(e,t){$f.forEach(e,function(i,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[s])})}});var hn=R((xc,jo)=>{"use strict";jo.exports=function(e,t,n,i,s){return e.config=t,n&&(e.code=n),e.request=i,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}});var dn=R((Nc,zo)=>{"use strict";var Gf=hn();zo.exports=function(e,t,n,i,s){var f=new Error(e);return Gf(f,t,n,i,s)}});var Jo=R((kc,Vo)=>{"use strict";var Hf=dn();Vo.exports=function(e,t,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(Hf("Request failed with status code "+n.status,n.config,null,n.request,n))}});var Ko=R((Ic,Xo)=>{"use strict";var yr=_e();Xo.exports=yr.isStandardBrowserEnv()?function(){return{write:function(t,n,i,s,f,c){var y=[];y.push(t+"="+encodeURIComponent(n)),yr.isNumber(i)&&y.push("expires="+new Date(i).toGMTString()),yr.isString(s)&&y.push("path="+s),yr.isString(f)&&y.push("domain="+f),c===!0&&y.push("secure"),document.cookie=y.join("; ")},read:function(t){var n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var Yo=R((Uc,Zo)=>{"use strict";Zo.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}});var es=R((Bc,Qo)=>{"use strict";Qo.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}});var rs=R((Rc,ts)=>{"use strict";var Wf=Yo(),jf=es();ts.exports=function(e,t){return e&&!Wf(t)?jf(e,t):t}});var is=R((Cc,ns)=>{"use strict";var yn=_e(),zf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];ns.exports=function(e){var t={},n,i,s;return e&&yn.forEach(e.split(`
`),function(c){if(s=c.indexOf(":"),n=yn.trim(c.substr(0,s)).toLowerCase(),i=yn.trim(c.substr(s+1)),n){if(t[n]&&zf.indexOf(n)>=0)return;n==="set-cookie"?t[n]=(t[n]?t[n]:[]).concat([i]):t[n]=t[n]?t[n]+", "+i:i}}),t}});var as=R((qc,ss)=>{"use strict";var os=_e();ss.exports=os.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a"),n;function i(s){var f=s;return e&&(t.setAttribute("href",f),f=t.href),t.setAttribute("href",f),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return n=i(window.location.href),function(f){var c=os.isString(f)?i(f):f;return c.protocol===n.protocol&&c.host===n.host}}():function(){return function(){return!0}}()});var vt=R((Mc,us)=>{"use strict";function gn(r){this.message=r}gn.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};gn.prototype.__CANCEL__=!0;us.exports=gn});var wn=R((Dc,fs)=>{"use strict";var gr=_e(),Vf=Jo(),Jf=Ko(),Xf=pn(),Kf=rs(),Zf=is(),Yf=as(),mn=dn(),Qf=_t(),el=vt();fs.exports=function(e){return new Promise(function(n,i){var s=e.data,f=e.headers,c=e.responseType,y;function B(){e.cancelToken&&e.cancelToken.unsubscribe(y),e.signal&&e.signal.removeEventListener("abort",y)}gr.isFormData(s)&&delete f["Content-Type"];var E=new XMLHttpRequest;if(e.auth){var P=e.auth.username||"",N=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(P+":"+N)}var G=Kf(e.baseURL,e.url);E.open(e.method.toUpperCase(),Xf(G,e.params,e.paramsSerializer),!0),E.timeout=e.timeout;function X(){if(!!E){var oe="getAllResponseHeaders"in E?Zf(E.getAllResponseHeaders()):null,S=!c||c==="text"||c==="json"?E.responseText:E.response,I={data:S,status:E.status,statusText:E.statusText,headers:oe,config:e,request:E};Vf(function(Q){n(Q),B()},function(Q){i(Q),B()},I),E=null}}if("onloadend"in E?E.onloadend=X:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(X)},E.onabort=function(){!E||(i(mn("Request aborted",e,"ECONNABORTED",E)),E=null)},E.onerror=function(){i(mn("Network Error",e,null,E)),E=null},E.ontimeout=function(){var S="timeout of "+e.timeout+"ms exceeded",I=e.transitional||Qf.transitional;e.timeoutErrorMessage&&(S=e.timeoutErrorMessage),i(mn(S,e,I.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",E)),E=null},gr.isStandardBrowserEnv()){var K=(e.withCredentials||Yf(G))&&e.xsrfCookieName?Jf.read(e.xsrfCookieName):void 0;K&&(f[e.xsrfHeaderName]=K)}"setRequestHeader"in E&&gr.forEach(f,function(S,I){typeof s>"u"&&I.toLowerCase()==="content-type"?delete f[I]:E.setRequestHeader(I,S)}),gr.isUndefined(e.withCredentials)||(E.withCredentials=!!e.withCredentials),c&&c!=="json"&&(E.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&E.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&E.upload&&E.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(y=function(oe){!E||(i(!oe||oe&&oe.type?new el("canceled"):oe),E.abort(),E=null)},e.cancelToken&&e.cancelToken.subscribe(y),e.signal&&(e.signal.aborted?y():e.signal.addEventListener("abort",y))),s||(s=null),E.send(s)})}});var _t=R((Fc,ps)=>{"use strict";var ge=_e(),ls=Wo(),tl=hn(),rl={"Content-Type":"application/x-www-form-urlencoded"};function cs(r,e){!ge.isUndefined(r)&&ge.isUndefined(r["Content-Type"])&&(r["Content-Type"]=e)}function nl(){var r;return typeof XMLHttpRequest<"u"?r=wn():typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]"&&(r=wn()),r}function il(r,e,t){if(ge.isString(r))try{return(e||JSON.parse)(r),ge.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}var mr={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:nl(),transformRequest:[function(e,t){return ls(t,"Accept"),ls(t,"Content-Type"),ge.isFormData(e)||ge.isArrayBuffer(e)||ge.isBuffer(e)||ge.isStream(e)||ge.isFile(e)||ge.isBlob(e)?e:ge.isArrayBufferView(e)?e.buffer:ge.isURLSearchParams(e)?(cs(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):ge.isObject(e)||t&&t["Content-Type"]==="application/json"?(cs(t,"application/json"),il(e)):e}],transformResponse:[function(e){var t=this.transitional||mr.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,s=!n&&this.responseType==="json";if(s||i&&ge.isString(e)&&e.length)try{return JSON.parse(e)}catch(f){if(s)throw f.name==="SyntaxError"?tl(f,this,"E_JSON_PARSE"):f}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ge.forEach(["delete","get","head"],function(e){mr.headers[e]={}});ge.forEach(["post","put","patch"],function(e){mr.headers[e]=ge.merge(rl)});ps.exports=mr});var ds=R((Lc,hs)=>{"use strict";var ol=_e(),sl=_t();hs.exports=function(e,t,n){var i=this||sl;return ol.forEach(n,function(f){e=f.call(i,e,t)}),e}});var vn=R(($c,ys)=>{"use strict";ys.exports=function(e){return!!(e&&e.__CANCEL__)}});var ws=R((Gc,ms)=>{"use strict";var gs=_e(),_n=ds(),al=vn(),ul=_t(),fl=vt();function An(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new fl("canceled")}ms.exports=function(e){An(e),e.headers=e.headers||{},e.data=_n.call(e,e.data,e.headers,e.transformRequest),e.headers=gs.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),gs.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var t=e.adapter||ul.adapter;return t(e).then(function(i){return An(e),i.data=_n.call(e,i.data,i.headers,e.transformResponse),i},function(i){return al(i)||(An(e),i&&i.response&&(i.response.data=_n.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})}});var bn=R((Hc,vs)=>{"use strict";var Ae=_e();vs.exports=function(e,t){t=t||{};var n={};function i(E,P){return Ae.isPlainObject(E)&&Ae.isPlainObject(P)?Ae.merge(E,P):Ae.isPlainObject(P)?Ae.merge({},P):Ae.isArray(P)?P.slice():P}function s(E){if(Ae.isUndefined(t[E])){if(!Ae.isUndefined(e[E]))return i(void 0,e[E])}else return i(e[E],t[E])}function f(E){if(!Ae.isUndefined(t[E]))return i(void 0,t[E])}function c(E){if(Ae.isUndefined(t[E])){if(!Ae.isUndefined(e[E]))return i(void 0,e[E])}else return i(void 0,t[E])}function y(E){if(E in t)return i(e[E],t[E]);if(E in e)return i(void 0,e[E])}var B={url:f,method:f,data:f,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:y};return Ae.forEach(Object.keys(e).concat(Object.keys(t)),function(P){var N=B[P]||s,G=N(P);Ae.isUndefined(G)&&N!==y||(n[P]=G)}),n}});var En=R((Wc,_s)=>{_s.exports={version:"0.22.0"}});var Es=R((jc,bs)=>{"use strict";var ll=En().version,Sn={};["object","boolean","number","function","string","symbol"].forEach(function(r,e){Sn[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});var As={};Sn.transitional=function(e,t,n){function i(s,f){return"[Axios v"+ll+"] Transitional option '"+s+"'"+f+(n?". "+n:"")}return function(s,f,c){if(e===!1)throw new Error(i(f," has been removed"+(t?" in "+t:"")));return t&&!As[f]&&(As[f]=!0,console.warn(i(f," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,f,c):!0}};function cl(r,e,t){if(typeof r!="object")throw new TypeError("options must be an object");for(var n=Object.keys(r),i=n.length;i-- >0;){var s=n[i],f=e[s];if(f){var c=r[s],y=c===void 0||f(c,s,r);if(y!==!0)throw new TypeError("option "+s+" must be "+y);continue}if(t!==!0)throw Error("Unknown option "+s)}}bs.exports={assertOptions:cl,validators:Sn}});var Ns=R((zc,xs)=>{"use strict";var Ts=_e(),pl=pn(),Ss=Go(),Os=ws(),wr=bn(),Ps=Es(),ot=Ps.validators;function At(r){this.defaults=r,this.interceptors={request:new Ss,response:new Ss}}At.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=wr(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;t!==void 0&&Ps.assertOptions(t,{silentJSONParsing:ot.transitional(ot.boolean),forcedJSONParsing:ot.transitional(ot.boolean),clarifyTimeoutError:ot.transitional(ot.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(e)===!1||(i=i&&N.synchronous,n.unshift(N.fulfilled,N.rejected))});var s=[];this.interceptors.response.forEach(function(N){s.push(N.fulfilled,N.rejected)});var f;if(!i){var c=[Os,void 0];for(Array.prototype.unshift.apply(c,n),c=c.concat(s),f=Promise.resolve(e);c.length;)f=f.then(c.shift(),c.shift());return f}for(var y=e;n.length;){var B=n.shift(),E=n.shift();try{y=B(y)}catch(P){E(P);break}}try{f=Os(y)}catch(P){return Promise.reject(P)}for(;s.length;)f=f.then(s.shift(),s.shift());return f};At.prototype.getUri=function(e){return e=wr(this.defaults,e),pl(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};Ts.forEach(["delete","get","head","options"],function(e){At.prototype[e]=function(t,n){return this.request(wr(n||{},{method:e,url:t,data:(n||{}).data}))}});Ts.forEach(["post","put","patch"],function(e){At.prototype[e]=function(t,n,i){return this.request(wr(i||{},{method:e,url:t,data:n}))}});xs.exports=At});var Is=R((Vc,ks)=>{"use strict";var hl=vt();function st(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(i){e=i});var t=this;this.promise.then(function(n){if(!!t._listeners){var i,s=t._listeners.length;for(i=0;i<s;i++)t._listeners[i](n);t._listeners=null}}),this.promise.then=function(n){var i,s=new Promise(function(f){t.subscribe(f),i=f}).then(n);return s.cancel=function(){t.unsubscribe(i)},s},r(function(i){t.reason||(t.reason=new hl(i),e(t.reason))})}st.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};st.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};st.prototype.unsubscribe=function(e){if(!!this._listeners){var t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}};st.source=function(){var e,t=new st(function(i){e=i});return{token:t,cancel:e}};ks.exports=st});var Bs=R((Jc,Us)=>{"use strict";Us.exports=function(e){return function(n){return e.apply(null,n)}}});var Cs=R((Xc,Rs)=>{"use strict";Rs.exports=function(e){return typeof e=="object"&&e.isAxiosError===!0}});var Ds=R((Kc,On)=>{"use strict";var qs=_e(),dl=an(),vr=Ns(),yl=bn(),gl=_t();function Ms(r){var e=new vr(r),t=dl(vr.prototype.request,e);return qs.extend(t,vr.prototype,e),qs.extend(t,e),t.create=function(i){return Ms(yl(r,i))},t}var Ue=Ms(gl);Ue.Axios=vr;Ue.Cancel=vt();Ue.CancelToken=Is();Ue.isCancel=vn();Ue.VERSION=En().version;Ue.all=function(e){return Promise.all(e)};Ue.spread=Bs();Ue.isAxiosError=Cs();On.exports=Ue;On.exports.default=Ue});var Ls=R((Zc,Fs)=>{Fs.exports=Ds()});var Gs=R(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});var ml=Ls(),$s=class{constructor(e){this.METHOD_GET="GET",this.METHOD_POST="POST",this.applyConfig(e)}applyConfig(e){this.config=this.mergeDefaults(e)}getConfig(){return this.config}mergeDefaults(e){let t=e.protocol||"http",n=e.port||(t==="https"?443:80);return{host:e.host||"127.0.0.1",protocol:t,port:n,timeout:e.timeout||2e4,logging:e.logging||!1,logger:e.logger||console.log}}async get(e,t){try{return await this.request().get(e,t)}catch(n){if(n.response&&n.response.status)return n.response;throw n}}async post(e,t,n){try{return await this.request().post(e,t,n)}catch(i){if(i.response&&i.response.status)return i.response;throw i}}request(){let e=ml.default.create({baseURL:`${this.config.protocol}://${this.config.host}:${this.config.port}`,timeout:this.config.timeout,maxContentLength:536870912});return this.config.logging&&(e.interceptors.request.use(t=>(this.config.logger(`Requesting: ${t.baseURL}/${t.url}`),t)),e.interceptors.response.use(t=>(this.config.logger(`Response:   ${t.config.url} - ${t.status}`),t))),e}};Tn.default=$s});var Ws=R(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});var Hs=class{constructor(e){this.api=e}getInfo(){return this.api.get("info").then(e=>e.data)}getPeers(){return this.api.get("peers").then(e=>e.data)}};Pn.default=Hs});var Et=R(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.getError=void 0;var js=class extends Error{constructor(e,t={}){t.message?super(t.message):super(),this.type=e,this.response=t.response}getType(){return this.type}};bt.default=js;function wl(r){let e=r.data;if(typeof r.data=="string")try{e=JSON.parse(r.data)}catch(t){}if(r.data instanceof ArrayBuffer||r.data instanceof Uint8Array)try{e=JSON.parse(e.toString())}catch(t){}return e?e.error||e:r.statusText||"unknown"}bt.getError=wl});var Bn=R(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.debug=j.validatePath=j.arrayCompare=j.bufferToInt=j.intToBuffer=j.arrayFlatten=j.generateProofs=j.buildLayers=j.generateTransactionChunks=j.generateTree=j.computeRootHash=j.generateLeaves=j.chunkData=j.MIN_CHUNK_SIZE=j.MAX_CHUNK_SIZE=void 0;var _r=Rn(),zs=Be();j.MAX_CHUNK_SIZE=256*1024;j.MIN_CHUNK_SIZE=32*1024;var Ot=32,at=32;async function Nn(r){let e=[],t=r,n=0;for(;t.byteLength>=j.MAX_CHUNK_SIZE;){let i=j.MAX_CHUNK_SIZE,s=t.byteLength-j.MAX_CHUNK_SIZE;s>0&&s<j.MIN_CHUNK_SIZE&&(i=Math.ceil(t.byteLength/2));let f=t.slice(0,i),c=await _r.default.crypto.hash(f);n+=f.byteLength,e.push({dataHash:c,minByteRange:n-f.byteLength,maxByteRange:n}),t=t.slice(i)}return e.push({dataHash:await _r.default.crypto.hash(t),minByteRange:n,maxByteRange:n+t.byteLength}),e}j.chunkData=Nn;async function kn(r){return Promise.all(r.map(async({dataHash:e,minByteRange:t,maxByteRange:n})=>({type:"leaf",id:await he(await Promise.all([he(e),he(Tt(n))])),dataHash:e,minByteRange:t,maxByteRange:n})))}j.generateLeaves=kn;async function vl(r){return(await Vs(r)).id}j.computeRootHash=vl;async function Vs(r){return await Ar(await kn(await Nn(r)))}j.generateTree=Vs;async function _l(r){let e=await Nn(r),t=await kn(e),n=await Ar(t),i=await Js(n),s=e.slice(-1)[0];return s.maxByteRange-s.minByteRange===0&&(e.splice(e.length-1,1),i.splice(i.length-1,1)),{data_root:n.id,chunks:e,proofs:i}}j.generateTransactionChunks=_l;async function Ar(r,e=0){if(r.length<2)return r[0];let t=[];for(let n=0;n<r.length;n+=2)t.push(await Al(r[n],r[n+1]));return Ar(t,e+1)}j.buildLayers=Ar;function Js(r){let e=xn(r);return Array.isArray(e)?In(e):[e]}j.generateProofs=Js;function xn(r,e=new Uint8Array,t=0){if(r.type=="leaf")return{offset:r.maxByteRange-1,proof:(0,zs.concatBuffers)([e,r.dataHash,Tt(r.maxByteRange)])};if(r.type=="branch"){let n=(0,zs.concatBuffers)([e,r.leftChild.id,r.rightChild.id,Tt(r.byteRange)]);return[xn(r.leftChild,n,t+1),xn(r.rightChild,n,t+1)]}throw new Error("Unexpected node type")}function In(r){let e=[];return r.forEach(t=>{Array.isArray(t)?e.push(...In(t)):e.push(t)}),e}j.arrayFlatten=In;async function Al(r,e){return e?{type:"branch",id:await he([await he(r.id),await he(e.id),await he(Tt(r.maxByteRange))]),byteRange:r.maxByteRange,maxByteRange:e.maxByteRange,leftChild:r,rightChild:e}:r}async function he(r){return Array.isArray(r)&&(r=_r.default.utils.concatBuffers(r)),new Uint8Array(await _r.default.crypto.hash(r))}function Tt(r){let e=new Uint8Array(Ot);for(var t=e.length-1;t>=0;t--){var n=r%256;e[t]=n,r=(r-n)/256}return e}j.intToBuffer=Tt;function Un(r){let e=0;for(var t=0;t<r.length;t++)e*=256,e+=r[t];return e}j.bufferToInt=Un;var bl=(r,e)=>r.every((t,n)=>e[n]===t);j.arrayCompare=bl;async function St(r,e,t,n,i){if(n<=0)return!1;if(e>=n)return St(r,0,n-1,n,i);if(e<0)return St(r,0,0,n,i);if(i.length==at+Ot){let P=i.slice(0,at),N=i.slice(P.length,P.length+Ot),G=await he([await he(P),await he(N)]);return(0,j.arrayCompare)(r,G)?{offset:n-1,leftBound:t,rightBound:n,chunkSize:n-t}:!1}let s=i.slice(0,at),f=i.slice(s.length,s.length+at),c=i.slice(s.length+f.length,s.length+f.length+Ot),y=Un(c),B=i.slice(s.length+f.length+c.length),E=await he([await he(s),await he(f),await he(c)]);return(0,j.arrayCompare)(r,E)?e<y?await St(s,e,t,Math.min(n,y),B):await St(f,e,Math.max(t,y),n,B):!1}j.validatePath=St;async function Xs(r,e=""){if(r.byteLength<1)return e;let t=r.slice(0,at),n=r.slice(t.length,t.length+at),i=r.slice(t.length+n.length,t.length+n.length+Ot),s=Un(i),f=r.slice(t.length+n.length+i.length),c=await he([await he(t),await he(n),await he(i)]),y=`${e}
${JSON.stringify(Buffer.from(t))},${JSON.stringify(Buffer.from(n))},${s} => ${JSON.stringify(c)}`;return Xs(f,y)}j.debug=Xs});var Qs=R(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.TransactionUploader=void 0;var Ks=Pt(),El=Be(),Cn=Et(),Sl=Bn(),Zs=1,Ol=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"],Ys=1e3*40,br=class{constructor(e,t){if(this.api=e,this.chunkIndex=0,this.txPosted=!1,this.lastRequestTimeEnd=0,this.totalErrors=0,this.lastResponseStatus=0,this.lastResponseError="",!t.id)throw new Error("Transaction is not signed");if(!t.chunks)throw new Error("Transaction chunks not prepared");this.data=t.data,this.transaction=new Ks.default(Object.assign({},t,{data:new Uint8Array(0)}))}get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}async uploadChunk(e){if(this.isComplete)throw new Error("Upload is already complete");if(this.lastResponseError!==""?this.totalErrors++:this.totalErrors=0,this.totalErrors===100)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let t=this.lastResponseError===""?0:Math.max(this.lastRequestTimeEnd+Ys-Date.now(),Ys);if(t>0&&(t=t-t*Math.random()*.3,await new Promise(f=>setTimeout(f,t))),this.lastResponseError="",!this.txPosted){await this.postTransaction();return}e&&(this.chunkIndex=e);let n=this.transaction.getChunk(e||this.chunkIndex,this.data);if(!await(0,Sl.validatePath)(this.transaction.chunks.data_root,parseInt(n.offset),0,parseInt(n.data_size),El.b64UrlToBuffer(n.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);let s=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch(f=>(console.error(f.message),{status:-1,data:{error:f.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=s.status,this.lastResponseStatus==200)this.chunkIndex++;else if(this.lastResponseError=(0,Cn.getError)(s),Ol.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized(e,t,n){if(!t||typeof t.chunkIndex!="number"||typeof t.transaction!="object")throw new Error("Serialized object does not match expected format.");var i=new Ks.default(t.transaction);i.chunks||await i.prepareChunks(n);let s=new br(e,i);if(s.chunkIndex=t.chunkIndex,s.lastRequestTimeEnd=t.lastRequestTimeEnd,s.lastResponseError=t.lastResponseError,s.lastResponseStatus=t.lastResponseStatus,s.txPosted=t.txPosted,s.data=n,s.transaction.data_root!==t.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return s}static async fromTransactionId(e,t){let n=await e.get(`tx/${t}`);if(n.status!==200)throw new Error(`Tx ${t} not found: ${n.status}`);let i=n.data;return i.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:i}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=Zs){this.transaction.data=this.data;let n=await this.api.post("tx",this.transaction).catch(i=>(console.error(i),{status:-1,data:{error:i.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=n.status,this.transaction.data=new Uint8Array(0),n.status>=200&&n.status<300){this.txPosted=!0,this.chunkIndex=Zs;return}throw this.lastResponseError=(0,Cn.getError)(n),new Error(`Unable to upload transaction: ${n.status}, ${this.lastResponseError}`)}let t=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=t.status,!(t.status>=200&&t.status<300))throw this.lastResponseError=(0,Cn.getError)(t),new Error(`Unable to upload transaction: ${t.status}, ${this.lastResponseError}`);this.txPosted=!0}};Er.TransactionUploader=br});var Sr=R((np,ea)=>{ea.exports={}});var ra=R(Je=>{"use strict";var Ve=Je&&Je.__await||function(r){return this instanceof Ve?(this.v=r,this):new Ve(r)},Tl=Je&&Je.__asyncGenerator||function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,s=[];return i={},f("next"),f("throw"),f("return"),i[Symbol.asyncIterator]=function(){return this},i;function f(N){n[N]&&(i[N]=function(G){return new Promise(function(X,K){s.push([N,G,X,K])>1||c(N,G)})})}function c(N,G){try{y(n[N](G))}catch(X){P(s[0][3],X)}}function y(N){N.value instanceof Ve?Promise.resolve(N.value.v).then(B,E):P(s[0][2],N)}function B(N){c("next",N)}function E(N){c("throw",N)}function P(N,G){N(G),s.shift(),s.length&&c(s[0][0],s[0][1])}};Object.defineProperty(Je,"__esModule",{value:!0});var qn=Et(),Re=Pt(),xt=Be(),Mn=Qs();Sr();var ta=class{constructor(e,t,n){this.api=e,this.crypto=t,this.chunks=n}getTransactionAnchor(){return this.api.get("tx_anchor",{transformResponse:[]}).then(e=>e.data)}getPrice(e,t){let n=t?`price/${e}/${t}`:`price/${e}`;return this.api.get(n,{transformResponse:[function(i){return i}]}).then(i=>i.data)}async get(e){let t=await this.api.get(`tx/${e}`);if(t.status==200){let n=parseInt(t.data.data_size);if(t.data.format>=2&&n>0&&n<=1024*1024*12){let i=await this.getData(e);return new Re.default(Object.assign(Object.assign({},t.data),{data:i}))}return new Re.default(Object.assign(Object.assign({},t.data),{format:t.data.format||1}))}throw t.status==404?new qn.default("TX_NOT_FOUND"):t.status==410?new qn.default("TX_FAILED"):new qn.default("TX_INVALID")}fromRaw(e){return new Re.default(e)}async search(e,t){return this.api.post("arql",{op:"equals",expr1:e,expr2:t}).then(n=>n.data?n.data:[])}getStatus(e){return this.api.get(`tx/${e}/status`).then(t=>t.status==200?{status:200,confirmed:t.data}:{status:t.status,confirmed:null})}async getData(e,t){let n=await this.chunks.downloadChunkedData(e);return t&&t.decode&&!t.string?n:t&&t.decode&&t.string?xt.bufferToString(n):xt.bufferTob64Url(n)}async sign(e,t,n){if(!t&&(typeof window>"u"||!window.arweaveWallet))throw new Error("A new Arweave transaction must provide the jwk parameter.");if(!t||t==="use_wallet"){try{(await window.arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await window.arweaveWallet.connect(["SIGN_TRANSACTION"])}catch(s){}let i=await window.arweaveWallet.sign(e,n);e.setSignature({id:i.id,owner:i.owner,reward:i.reward,tags:i.tags,signature:i.signature})}else{e.setOwner(t.n);let i=await e.getSignatureData(),s=await this.crypto.sign(t,i,n),f=await this.crypto.hash(s);e.setSignature({id:xt.bufferTob64Url(f),owner:t.n,signature:xt.bufferTob64Url(s)})}}async verify(e){let t=await e.getSignatureData(),n=e.get("signature",{decode:!0,string:!1}),i=xt.bufferTob64Url(await this.crypto.hash(n));if(e.id!==i)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(e.owner,t,n)}async post(e){if(typeof e=="string"?e=new Re.default(JSON.parse(e)):typeof e.readInt32BE=="function"?e=new Re.default(JSON.parse(e.toString())):typeof e=="object"&&!(e instanceof Re.default)&&(e=new Re.default(e)),!(e instanceof Re.default))throw new Error("Must be Transaction object");e.chunks||await e.prepareChunks(e.data);let t=await this.getUploader(e,e.data);try{for(;!t.isComplete;)await t.uploadChunk()}catch(n){if(t.lastResponseStatus>0)return{status:t.lastResponseStatus,statusText:t.lastResponseError,data:{error:t.lastResponseError}};throw n}return{status:200,statusText:"OK",data:{}}}async getUploader(e,t){let n;if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),e instanceof Re.default){if(t||(t=e.data),!(t instanceof Uint8Array))throw new Error("Data format is invalid");e.chunks||await e.prepareChunks(t),n=new Mn.TransactionUploader(this.api,e),(!n.data||n.data.length===0)&&(n.data=t)}else{if(typeof e=="string"&&(e=await Mn.TransactionUploader.fromTransactionId(this.api,e)),!t||!(t instanceof Uint8Array))throw new Error("Must provide data when resuming upload");n=await Mn.TransactionUploader.fromSerialized(this.api,e,t)}return n}upload(e,t){return Tl(this,arguments,function*(){let i=yield Ve(this.getUploader(e,t));for(;!i.isComplete;)yield Ve(i.uploadChunk()),yield yield Ve(i);return yield Ve(i)})}};Je.default=ta});var oa=R(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});var na=Be();Sr();var ia=class{constructor(e,t){this.api=e,this.crypto=t}getBalance(e){return this.api.get(`wallet/${e}/balance`,{transformResponse:[function(t){return t}]}).then(t=>t.data)}getLastTransactionID(e){return this.api.get(`wallet/${e}/last_tx`).then(t=>t.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(e){return!e||e==="use_wallet"?this.getAddress():this.getAddress(e)}async getAddress(e){if(!e||e==="use_wallet"){try{await window.arweaveWallet.connect(["ACCESS_ADDRESS"])}catch(t){}return window.arweaveWallet.getActiveAddress()}else return this.ownerToAddress(e.n)}async ownerToAddress(e){return na.bufferTob64Url(await this.crypto.hash(na.b64UrlToBuffer(e)))}};Dn.default=ia});var ua=R(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.SiloResource=void 0;var sa=Be(),aa=class{constructor(e,t,n){this.api=e,this.crypto=t,this.transactions=n}async get(e){if(!e)throw new Error("No Silo URI specified");let t=await this.parseUri(e),n=await this.transactions.search("Silo-Name",t.getAccessKey());if(n.length==0)throw new Error(`No data could be found for the Silo URI: ${e}`);let i=await this.transactions.get(n[0]);if(!i)throw new Error(`No data could be found for the Silo URI: ${e}`);let s=i.get("data",{decode:!0,string:!1});return this.crypto.decrypt(s,t.getEncryptionKey())}async readTransactionData(e,t){if(!t)throw new Error("No Silo URI specified");let n=await this.parseUri(t),i=e.get("data",{decode:!0,string:!1});return this.crypto.decrypt(i,n.getEncryptionKey())}async parseUri(e){let t=e.match(/^([a-z0-9-_]+)\.([0-9]+)/i);if(!t)throw new Error("Invalid Silo name, must be a name in the format of [a-z0-9]+.[0-9]+, e.g. 'bubble.7'");let n=t[1],i=Math.pow(2,parseInt(t[2])),s=await this.hash(sa.stringToBuffer(n),i),f=sa.bufferTob64(s.slice(0,15)),c=await this.hash(s.slice(16,31),1);return new Fn(e,f,c)}async hash(e,t){let n=await this.crypto.hash(e);for(let i=0;i<t-1;i++)n=await this.crypto.hash(n);return n}};Nt.default=aa;var Fn=class{constructor(e,t,n){this.uri=e,this.accessKey=t,this.encryptionKey=n}getUri(){return this.uri}getAccessKey(){return this.accessKey}getEncryptionKey(){return this.encryptionKey}};Nt.SiloResource=Fn});var ca=R(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});var fa=Et(),Pl=Be(),la=class{constructor(e){this.api=e}async getTransactionOffset(e){let t=await this.api.get(`tx/${e}/offset`);if(t.status===200)return t.data;throw new Error(`Unable to get transaction offset: ${(0,fa.getError)(t)}`)}async getChunk(e){let t=await this.api.get(`chunk/${e}`);if(t.status===200)return t.data;throw new Error(`Unable to get chunk: ${(0,fa.getError)(t)}`)}async getChunkData(e){let t=await this.getChunk(e);return Pl.b64UrlToBuffer(t.chunk)}firstChunkOffset(e){return parseInt(e.offset)-parseInt(e.size)+1}async downloadChunkedData(e){let t=await this.getTransactionOffset(e),n=parseInt(t.size),s=parseInt(t.offset)-n+1,f=new Uint8Array(n),c=0;for(;c<n;){this.api.config.logging&&console.log(`[chunk] ${c}/${n}`);let y;try{y=await this.getChunkData(s+c)}catch(B){console.error(`[chunk] Failed to fetch chunk at offset ${s+c}`),console.error("[chunk] This could indicate that the chunk wasn't uploaded or hasn't yet seeded properly to a particular gatway/node")}if(y)f.set(y,c),c+=y.length;else throw new Error(`Coudn't complete data download at ${c}/${n}`)}return f}};Ln.default=la});var pa=R($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});var xl=Et();Sr();var kt=class{constructor(e,t){this.api=e,this.network=t}async get(e){let t=await this.api.get(`${kt.ENDPOINT}${e}`);if(t.status===200)return t.data;throw t.status===404?new xl.default("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${t}`)}async getCurrent(){let{current:e}=await this.network.getInfo();return await this.get(e)}};$n.default=kt;kt.ENDPOINT="block/hash/"});var Rn=R(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});var Nl=Ro(),kl=Gs(),Il=Ws(),Ul=ra(),Bl=oa(),ha=Pt(),It=Be(),Rl=ua(),Cl=ca(),ql=pa(),De=class{constructor(e){this.api=new kl.default(e),this.wallets=new Bl.default(this.api,De.crypto),this.chunks=new Cl.default(this.api),this.transactions=new Ul.default(this.api,De.crypto,this.chunks),this.silo=new Rl.default(this.api,this.crypto,this.transactions),this.network=new Il.default(this.api),this.blocks=new ql.default(this.api,this.network),this.ar=new Nl.default}get crypto(){return De.crypto}get utils(){return De.utils}getConfig(){return{api:this.api.getConfig(),crypto:null}}async createTransaction(e,t){let n={};if(Object.assign(n,e),!e.data&&!(e.target&&e.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(e.owner==null&&t&&t!=="use_wallet"&&(n.owner=t.n),e.last_tx==null&&(n.last_tx=await this.transactions.getTransactionAnchor()),typeof e.data=="string"&&(e.data=It.stringToBuffer(e.data)),e.data instanceof ArrayBuffer&&(e.data=new Uint8Array(e.data)),e.data&&!(e.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(e.reward==null){let s=e.data?e.data.byteLength:0;n.reward=await this.transactions.getPrice(s,n.target)}n.data_root="",n.data_size=e.data?e.data.byteLength.toString():"0",n.data=e.data||new Uint8Array(0);let i=new ha.default(n);return await i.getSignatureData(),i}async createSiloTransaction(e,t,n){let i={};if(Object.assign(i,e),!e.data)throw new Error("Silo transactions must have a 'data' value");if(!n)throw new Error("No Silo URI specified.");if(e.target||e.quantity)throw new Error("Silo transactions can only be used for storing data, sending AR to other wallets isn't supported.");if(e.owner==null){if(!t||!t.n)throw new Error("A new Arweave transaction must either have an 'owner' attribute, or you must provide the jwk parameter.");i.owner=t.n}e.last_tx==null&&(i.last_tx=await this.transactions.getTransactionAnchor());let s=await this.silo.parseUri(n);if(typeof e.data=="string"){let c=await this.crypto.encrypt(It.stringToBuffer(e.data),s.getEncryptionKey());i.reward=await this.transactions.getPrice(c.byteLength),i.data=It.bufferTob64Url(c)}if(e.data instanceof Uint8Array){let c=await this.crypto.encrypt(e.data,s.getEncryptionKey());i.reward=await this.transactions.getPrice(c.byteLength),i.data=It.bufferTob64Url(c)}let f=new ha.default(i);return f.addTag("Silo-Name",s.getAccessKey()),f.addTag("Silo-Version","0.1.0"),f}arql(e){return this.api.post("/arql",e).then(t=>t.data||[])}};Gn.default=De;De.utils=It});var ga=R(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});var be=Rn();async function da(r){if(Array.isArray(r)){let n=be.default.utils.concatBuffers([be.default.utils.stringToBuffer("list"),be.default.utils.stringToBuffer(r.length.toString())]);return await ya(r,await be.default.crypto.hash(n,"SHA-384"))}let e=be.default.utils.concatBuffers([be.default.utils.stringToBuffer("blob"),be.default.utils.stringToBuffer(r.byteLength.toString())]),t=be.default.utils.concatBuffers([await be.default.crypto.hash(e,"SHA-384"),await be.default.crypto.hash(r,"SHA-384")]);return await be.default.crypto.hash(t,"SHA-384")}Hn.default=da;async function ya(r,e){if(r.length<1)return e;let t=be.default.utils.concatBuffers([e,await da(r[0])]),n=await be.default.crypto.hash(t,"SHA-384");return await ya(r.slice(1),n)}});var Pt=R(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.Tag=void 0;var pe=Be(),Ml=ga(),Dl=Bn(),Wn=class{get(e,t){if(!Object.getOwnPropertyNames(this).includes(e))throw new Error(`Field "${e}" is not a property of the Arweave Transaction class.`);return this[e]instanceof Uint8Array?t&&t.decode&&t.string?pe.bufferToString(this[e]):t&&t.decode&&!t.string?this[e]:pe.bufferTob64Url(this[e]):t&&t.decode==!0?t&&t.string?pe.b64UrlToString(this[e]):pe.b64UrlToBuffer(this[e]):this[e]}},Or=class extends Wn{constructor(e,t,n=!1){super();this.name=e,this.value=t}};Ut.Tag=Or;var ma=class extends Wn{constructor(e={}){super();this.format=2,this.id="",this.last_tx="",this.owner="",this.tags=[],this.target="",this.quantity="0",this.data_size="0",this.data=new Uint8Array,this.data_root="",this.reward="0",this.signature="",Object.assign(this,e),typeof this.data=="string"&&(this.data=pe.b64UrlToBuffer(this.data)),e.tags&&(this.tags=e.tags.map(t=>new Or(t.name,t.value)))}addTag(e,t){this.tags.push(new Or(pe.stringToB64Url(e),pe.stringToB64Url(t)))}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:pe.bufferTob64Url(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(e){this.owner=e}setSignature({id:e,owner:t,reward:n,tags:i,signature:s}){this.id=e,this.owner=t,n&&(this.reward=n),i&&(this.tags=i),this.signature=s}async prepareChunks(e){!this.chunks&&e.byteLength>0&&(this.chunks=await(0,Dl.generateTransactionChunks)(e),this.data_root=pe.bufferTob64Url(this.chunks.data_root)),!this.chunks&&e.byteLength===0&&(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(e,t){if(!this.chunks)throw new Error("Chunks have not been prepared");let n=this.chunks.proofs[e],i=this.chunks.chunks[e];return{data_root:this.data_root,data_size:this.data_size,data_path:pe.bufferTob64Url(n.proof),offset:n.offset.toString(),chunk:pe.bufferTob64Url(t.slice(i.minByteRange,i.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:let e=this.tags.reduce((n,i)=>pe.concatBuffers([n,i.get("name",{decode:!0,string:!1}),i.get("value",{decode:!0,string:!1})]),new Uint8Array);return pe.concatBuffers([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),pe.stringToBuffer(this.quantity),pe.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),e]);case 2:this.data_root||await this.prepareChunks(this.data);let t=this.tags.map(n=>[n.get("name",{decode:!0,string:!1}),n.get("value",{decode:!0,string:!1})]);return await(0,Ml.default)([pe.stringToBuffer(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),pe.stringToBuffer(this.quantity),pe.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),t,pe.stringToBuffer(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}};Ut.default=ma});var wa,Bt,ut,Fl,jn,va=Fe(()=>{go();_o();wa=Mt(Pt(),1),Bt=Mt(ur(),1),ut=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(f){f(s)})}return new(t||(t=Promise))(function(s,f){function c(E){try{B(n.next(E))}catch(P){f(P)}}function y(E){try{B(n.throw(E))}catch(P){f(P)}}function B(E){E.done?s(E.value):i(E.value).then(c,y)}B((n=n.apply(r,e||[])).next())})},Fl=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},jn=class extends me{constructor(e,t){super({protocol:"arweave",version:"1.0.0"},Object.assign({},e),t);this.namespaces={arweaveWallet:{connect:()=>this.address||this.connect(),disconnect:()=>this.disconnect(),getActiveAddress:()=>this.address,getActivePublicKey:()=>this.getPublicKey(),getAllAddresses:()=>{throw"not implemented"},getWalletNames:()=>{throw"not implemented"},sign:(n,i)=>this.signTransaction(n,i),dispatch:(n,i)=>this.dispatch(n,i),encrypt:()=>{throw"not implemented"},decrypt:(n,i)=>this.decrypt(n,i),signature:(n,i)=>this.sign(n,i),getPermissions:()=>["ACCESS_ADDRESS","ACCESS_PUBLIC_KEY","ACCESS_ALL_ADDRESSES","SIGN_TRANSACTION","ENCRYPT","DECRYPT","SIGNATURE","ACCESS_ARWEAVE_CONFIG","DISPATCH"],getArweaveConfig:()=>this.getArweaveConfig()}},this.on("connect",()=>wo(this)),this.on("disconnect",()=>vo(this))}getPublicKey(){return ut(this,void 0,void 0,function*(){let e=yield this.postMessage("getPublicKey");if(!(0,Bt.is)(e,t=>{function n(i){return typeof i!="string"?{}:null}return n(t)}))throw"TypeError";return e})}getArweaveConfig(){return ut(this,void 0,void 0,function*(){let e=yield this.postMessage("getArweaveConfig");if(!(0,Bt.is)(e,t=>{function n(S){return S!==void 0?{}:null}function i(S){return typeof S!="number"?{}:null}function s(S){return S!==null?{}:null}function f(S){var I=[n,i];for(let Q of I){var ee=Q(S);if(!ee)return null}return{}}function c(S){return typeof S!="string"?{}:null}function y(S){var I=[n,c];for(let Q of I){var ee=Q(S);if(!ee)return null}return{}}function B(S){var I=[n,c,i];for(let Q of I){var ee=Q(S);if(!ee)return null}return{}}function E(S){return S!==!1?{}:null}function P(S){return S!==!0?{}:null}function N(S){var I=[n,E,P];for(let Q of I){var ee=Q(S);if(!ee)return null}return{}}function G(S){if(typeof S!="object"||S===null||Array.isArray(S))return{};if("timeout"in S){var I=f(S.timeout);if(I)return I}if("protocol"in S){var I=y(S.protocol);if(I)return I}if("host"in S){var I=y(S.host);if(I)return I}if("port"in S){var I=B(S.port);if(I)return I}if("logging"in S){var I=N(S.logging);if(I)return I}return null}function X(){return null}function K(S){if(typeof S!="object"||S===null||Array.isArray(S))return{};if("logger"in S){var I=X(S.logger);if(I)return I}return null}function oe(S){var I=[G,K];for(let Q of I){var ee=Q(S);if(ee)return ee}return null}return oe(t)}))throw"TypeError";return delete e.logger,e})}signTransaction(e,t){var n;return ut(this,void 0,void 0,function*(){let{data:i,chunks:s}=e,f=Fl(e,["data","chunks"]),c=yield this.postMessage("signTransaction",[f,t]);if(!(0,Bt.is)(c,y=>{function B(S){return typeof S!="string"?{}:null}function E(S){return S!==void 0?{}:null}function P(S){return S!==null?{}:null}function N(S){var I=[E,P,B];for(let Q of I){var ee=Q(S);if(!ee)return null}return{}}function G(S){if(typeof S!="object"||S===null||Array.isArray(S))return{};if("name"in S){var I=B(S.name);if(I)return I}else return{};if("value"in S){var I=B(S.value);if(I)return I}else return{};return null}function X(S){if(!Array.isArray(S))return{};for(let ee=0;ee<S.length;ee++){var I=G(S[ee]);if(I)return I}return null}function K(S){var I=[E,P,X];for(let Q of I){var ee=Q(S);if(!ee)return null}return{}}function oe(S){if(typeof S!="object"||S===null||Array.isArray(S))return{};if("id"in S){var I=B(S.id);if(I)return I}else return{};if("owner"in S){var I=N(S.owner);if(I)return I}if("tags"in S){var I=K(S.tags);if(I)return I}if("signature"in S){var I=B(S.signature);if(I)return I}else return{};if("reward"in S){var I=N(S.reward);if(I)return I}return null}return oe(y)}))throw"TypeError";return e.setSignature({id:c.id,owner:c.owner||e.owner,tags:(n=c.tags)===null||n===void 0?void 0:n.map(y=>new wa.Tag(y.name,y.value,!0)),signature:c.signature,reward:c.reward||void 0}),e})}dispatch(e,t){return ut(this,void 0,void 0,function*(){let n=yield this.postMessage("dispatch",[e,t],{transfer:!0});if(!(0,Bt.is)(n,i=>{function s(P){return typeof P!="string"?{}:null}function f(P){return P!=="BASE"?{}:null}function c(P){return P!=="BUNDLED"?{}:null}function y(P){return P!==null?{}:null}function B(P){var N=[f,c];for(let X of N){var G=X(P);if(!G)return null}return{}}function E(P){if(typeof P!="object"||P===null||Array.isArray(P))return{};if("id"in P){var N=s(P.id);if(N)return N}if("type"in P){var N=B(P.type);if(N)return N}return null}return E(i)}))throw"TypeError";return n})}sign(e,t){return ut(this,void 0,void 0,function*(){let n=yield this.postMessage("sign",[e,t]);if(!ArrayBuffer.isView(n))throw"TypeError";let i=e.constructor;return new i(n.buffer)})}decrypt(e,t){return ut(this,void 0,void 0,function*(){let n=yield this.postMessage("decrypt",[e,t]);if(!ArrayBuffer.isView(n))throw"TypeError";let i=e.constructor;return new i(n.buffer)})}}});var _a={};xa(_a,{ArweaveWebWallet:()=>jn});var Aa=Fe(()=>{va()});var Rt,Ll=async()=>{let{ArweaveWebWallet:r}=await Promise.resolve().then(()=>(Aa(),_a));Rt&&Rt.disconnect(),Rt=new r,Rt.setUrl("http://localhost:8080"),Rt.connect()};window.addEventListener("arweave-wallet-connector:connect",Ll);})();
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
//# sourceMappingURL=build.min.js.map
